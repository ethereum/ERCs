<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2037px" preserveAspectRatio="none" style="width:1301px;height:2037px;background:#FFFFFF;" version="1.1" viewBox="0 0 1301 2037" width="1301px" zoomAndPan="magnify"><title>SmartDerivativeContract (ERC-6123). Variant with Cash- and Collateral-Token and off-chain Valuation Oracle</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="797.7949" x="247.8916" y="28.5352">SmartDerivativeContract (ERC-6123). Variant with Cash- and Collateral-Token and off-chain Valuation Oracle</text><g><title>Counterparty 1</title><rect fill="#FFFFFF" height="1818.7051" style="stroke:#181818;stroke-width:1;" width="10" x="69.2661" y="128.9766"/></g><g><title>Counterparty 2</title><rect fill="#FFFFFF" height="1818.7051" style="stroke:#181818;stroke-width:1;" width="10" x="187.7983" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="217.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="203.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="378.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="655.9004"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="756.4766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="132.9316" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="819.7871"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="982.0293"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1040.6504"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="69.2656" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1114.2266"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="62.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1212.8027"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="242.4629" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1346.4238"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="153.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1623.8867"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="49.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1807.0605"/></g><g><title>**CashToken** :</title><rect fill="#FF8080" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="709.3364" y="1011.3398"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="582.3242"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="78.5762" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="677.9004"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="59.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="922.7188"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="1084.916"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="1183.4922"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="1777.75"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1818.7051" style="stroke:#181818;stroke-width:1;" width="10" x="1039.1807" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1208.9399" y="319.8398"/></g><rect fill="none" height="1474.9102" style="stroke:#000000;stroke-width:1.5;" width="1274.5781" x="10" y="135.9766"/><rect fill="none" height="298.3945" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="508.3926"/><rect fill="#F0F0F0" height="455.3262" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="834.7871"/><rect fill="#F0F0F0" height="98.5762" style="stroke:none;stroke-width:1;" width="858.9429" x="247.0645" y="1048.6504"/><rect fill="#F0F0F0" height="142.8867" style="stroke:none;stroke-width:1;" width="858.9429" x="247.0645" y="1147.2266"/><rect fill="none" height="242.4629" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="1361.4238"/><rect fill="#FFF8F8" height="275.7949" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="1638.8867"/><g><title>Counterparty 1</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="70.2661" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="118.9766" y2="1956.6816"/></g><g><title>Counterparty 2</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="188.7983" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="192.5322" x2="192.5322" y1="118.9766" y2="1956.6816"/></g><g><title>**SDC** :</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="378.0664" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="382.0645" x2="382.0645" y1="118.9766" y2="1956.6816"/></g><g><title>**CashToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="710.3364" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="714.3354" x2="714.3354" y1="118.9766" y2="1956.6816"/></g><g><title>**CollateralToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="854.8335" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="858.3374" x2="858.3374" y1="118.9766" y2="1956.6816"/></g><g><title>EventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="1040.1807" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1043.354" x2="1043.354" y1="118.9766" y2="1956.6816"/></g><g><title>ValuationOracle</title><rect fill="#000000" fill-opacity="0.00000" height="1837.7051" width="8" x="1209.9399" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1213.3018" x2="1213.3018" y1="118.9766" y2="1956.6816"/></g><g class="participant participant-head" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="20" y="116.0234">Counterparty 1</text><ellipse cx="74.2661" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74.2661,58.9883 L74.2661,85.9883 M61.2661,66.9883 L87.2661,66.9883 M74.2661,85.9883 L61.2661,100.9883 M74.2661,85.9883 L87.2661,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="20" y="1969.2168">Counterparty 1</text><ellipse cx="74.2661" cy="1980.6699" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74.2661,1988.6699 L74.2661,2015.6699 M61.2661,1996.6699 L87.2661,1996.6699 M74.2661,2015.6699 L61.2661,2030.6699 M74.2661,2015.6699 L87.2661,2030.6699" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="138.5322" y="116.0234">Counterparty 2</text><ellipse cx="192.7983" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M192.7983,58.9883 L192.7983,85.9883 M179.7983,66.9883 L205.7983,66.9883 M192.7983,85.9883 L179.7983,100.9883 M192.7983,85.9883 L205.7983,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="138.5322" y="1969.2168">Counterparty 2</text><ellipse cx="192.7983" cy="1980.6699" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M192.7983,1988.6699 L192.7983,2015.6699 M179.7983,1996.6699 L205.7983,1996.6699 M192.7983,2015.6699 L179.7983,2030.6699 M192.7983,2015.6699 L205.7983,2030.6699" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="257.0645" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="363.1001" y="81.7266">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="396.603" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="257.0645" x2="507.0684" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="264.0645" y="107.6748">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-tail" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="257.0645" y="1955.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="363.1001" y="1976.2168">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="396.603" y="1976.2168">:</text><line style="stroke:#181818;stroke-width:1;" x1="257.0645" x2="507.0684" y1="1984.1699" y2="1984.1699"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="264.0645" y="2002.165">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-head" data-participant="CashToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="648.3354" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1719" x="669.8208" y="81.7266">CashToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="754.4224" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="648.3354" x2="780.3374" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="655.3354" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="CashToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="648.3354" y="1955.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1719" x="669.8208" y="1976.2168">CashToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="754.4224" y="1976.2168">:</text><line style="stroke:#181818;stroke-width:1;" x1="648.3354" x2="780.3374" y1="1984.1699" y2="1984.1699"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="655.3354" y="2002.165">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="CollateralToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.9922" x="790.3374" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114.1328" x="797.3374" y="81.7266">CollateralToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="915.8999" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="790.3374" x2="927.3296" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="799.8325" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="CollateralToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.9922" x="790.3374" y="1955.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114.1328" x="797.3374" y="1976.2168">CollateralToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="915.8999" y="1976.2168">:</text><line style="stroke:#181818;stroke-width:1;" x1="790.3374" x2="927.3296" y1="1984.1699" y2="1984.1699"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="799.8325" y="2002.165">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="992.354" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="999.354" y="108.0234">EventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="992.354" y="1955.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="999.354" y="1976.2168">EventHandler</text></g><g class="participant participant-head" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1153.3018" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1160.3018" y="108.0234">ValuationOracle</text></g><g class="participant participant-tail" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1153.3018" y="1955.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1160.3018" y="1976.2168">ValuationOracle</text></g><g><title>Counterparty 1</title><rect fill="#FFFFFF" height="1818.7051" style="stroke:#181818;stroke-width:1;" width="10" x="69.2661" y="128.9766"/></g><g><title>Counterparty 2</title><rect fill="#FFFFFF" height="1818.7051" style="stroke:#181818;stroke-width:1;" width="10" x="187.7983" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="217.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="203.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="378.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="655.9004"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="756.4766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="132.9316" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="819.7871"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="982.0293"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1040.6504"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="69.2656" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1114.2266"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="62.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1212.8027"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="242.4629" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1346.4238"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="153.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1623.8867"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="49.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1807.0605"/></g><g><title>**CashToken** :</title><rect fill="#FF8080" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="709.3364" y="1011.3398"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="582.3242"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="78.5762" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="677.9004"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="59.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="922.7188"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="1084.916"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="1183.4922"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="853.8335" y="1777.75"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1818.7051" style="stroke:#181818;stroke-width:1;" width="10" x="1039.1807" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1208.9399" y="319.8398"/></g><path d="M10,135.9766 L84.4468,135.9766 L84.4468,143.2871 L74.4468,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1474.9102" style="stroke:#000000;stroke-width:1.5;" width="1274.5781" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="149.5449">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2324" x="99.4468" y="148.6113">[Every Settlement]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1294.5781" x="0" y="173.9424"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="173.9424" y2="173.9424"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="176.9424" y2="176.9424"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="573.7847" y="163.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="579.7847" y="179.8555">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="659.2573" y="179.8555">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="705.2969" y="179.8555">'</text><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="365.0664,213.9082,375.0664,217.9082,365.0664,221.9082,369.0664,217.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2661" x2="371.0664" y1="217.9082" y2="217.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.0386" x="86.2661" y="213.166">tx: '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.4727" x="110.3047" y="213.166">initiateSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="228.7773" y="213.166">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1294.5781" x="0" y="246.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="246.5635" y2="246.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="249.5635" y2="249.5635"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="164.4395" x="565.0693" y="235.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="571.0693" y="252.4766">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.4702" x="650.542" y="252.4766">Valuation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="714.0122" y="252.4766">'</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,286.5293,1037.1807,290.5293,1027.1807,294.5293,1031.1807,290.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1033.1807" y1="290.5293" y2="290.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="389.0664" y="285.7871">emit SettlementRequested</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ValuationOracle"><polygon fill="#181818" points="1196.9399,315.8398,1206.9399,319.8398,1196.9399,323.8398,1200.9399,319.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1049.1807" x2="1202.9399" y1="319.8398" y2="319.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.7593" x="1056.1807" y="315.0977">request valuation data</text></g><g class="message" data-participant-1="ValuationOracle" data-participant-2="EventHandler"><polygon fill="#181818" points="1060.1807,345.1504,1050.1807,349.1504,1060.1807,353.1504,1056.1807,349.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1054.1807" x2="1212.9399" y1="349.1504" y2="349.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0947" x="1066.1807" y="344.4082">return valuation data</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,374.4609,388.0664,378.4609,398.0664,382.4609,394.0664,378.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="1038.1807" y1="378.4609" y2="378.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.1235" x="404.0664" y="373.7188">callback: tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.8042" x="483.1899" y="373.7188">performSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="608.9941" y="373.7188">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="407.7715" y2="407.7715"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="407.7715" y2="420.7715"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="420.7715" y2="420.7715"/><polygon fill="#181818" points="398.0664,416.7715,388.0664,420.7715,398.0664,424.7715,394.0664,420.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.27" x="394.0664" y="403.0293">Caps Settlement Amount at Margin Buffer Level</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,446.082,1037.1807,450.082,1027.1807,454.082,1031.1807,450.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1033.1807" y1="450.082" y2="450.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="394.0664" y="445.3398">emit SettlementDetermined</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1294.5781" x="0" y="478.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="478.7373" y2="478.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="481.7373" y2="481.7373"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.1426" x="561.7178" y="468.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="567.7178" y="484.6504">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.1733" x="647.1904" y="484.6504">InTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="717.3638" y="484.6504">'</text><path d="M247.0645,508.3926 L309.2031,508.3926 L309.2031,515.7031 L299.2031,525.7031 L247.0645,525.7031 L247.0645,508.3926" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="298.3945" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="508.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="262.0645" y="521.9609">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.1626" x="324.2031" y="521.0273">[Adjust Collateral]</text><path d="M547,530.7031 L547,555.7031 L853,555.7031 L853,540.7031 L843,530.7031 L547,530.7031" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M843,530.7031 L843,540.7031 L853,540.7031 L843,530.7031" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.8096" x="553" y="548.2715">Collateral Adjustment reflecting Market Move</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="841.8335,578.3242,851.8335,582.3242,841.8335,586.3242,845.8335,582.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="847.8335" y1="582.3242" y2="582.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="577.582">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="408.9917" y="577.582">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.5972" x="546.1011" y="577.582">' transfer collateral adjustment</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1106.0073" y1="591.3242" y2="591.3242"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="252.0645" y="601.959">[success]</text><g class="message" data-participant-1="CollateralToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,622.5898,1037.1807,626.5898,1027.1807,630.5898,1031.1807,626.5898" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="863.8335" x2="1033.1807" y1="626.5898" y2="626.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="870.8335" y="621.8477">emit TransferSucceeded</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,651.9004,388.0664,655.9004,398.0664,659.9004,394.0664,655.9004" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="857.8335" y1="655.9004" y2="655.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="651.1582">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="651.1582">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="651.1582">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="429.0664" y1="674.9004" y2="674.9004"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="429.0664" x2="429.0664" y1="674.9004" y2="687.9004"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="429.0664" y1="687.9004" y2="687.9004"/><polygon fill="#FFFFFF" points="392.0664,683.9004,382.0664,687.9004,392.0664,691.9004,388.0664,687.9004" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1106.0073" y1="691.9004" y2="691.9004"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="252.0645" y="702.5352">[fail]</text><g class="message" data-participant-1="CollateralToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,723.166,1037.1807,727.166,1027.1807,731.166,1031.1807,727.166" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="863.8335" x2="1033.1807" y1="727.166" y2="727.166"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9575" x="870.8335" y="722.4238">emit TransferFailed</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,752.4766,388.0664,756.4766,398.0664,760.4766,394.0664,756.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="857.8335" y1="756.4766" y2="756.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="751.7344">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="751.7344">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="751.7344">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="785.7871" y2="785.7871"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="785.7871" y2="798.7871"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="798.7871" y2="798.7871"/><polygon fill="#181818" points="398.0664,794.7871,388.0664,798.7871,398.0664,802.7871,394.0664,798.7871" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="394.0664" y="781.0449">terminate (see below)</text></g><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="789.7871" y2="807.7871"/><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="807.7871" y2="789.7871"/><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#FFFFFF" points="398.0664,815.7871,388.0664,819.7871,398.0664,823.7871,394.0664,819.7871" style="stroke:#FFFFFF;stroke-width:1;"/><polygon fill="#FFFFFF" points="1027.1807,815.7871,1037.1807,819.7871,1027.1807,823.7871,1031.1807,819.7871" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="392.0664" x2="1033.1807" y1="819.7871" y2="819.7871"/></g><path d="M247.0645,834.7871 L309.2031,834.7871 L309.2031,842.0977 L299.2031,852.0977 L247.0645,852.0977 L247.0645,834.7871" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="455.3262" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="834.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="262.0645" y="848.3555">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143.6606" x="324.2031" y="847.4219">[Upon Coupon Payment -</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="286.6284" x="471.4893" y="847.4219">Secure Delivery (Collateral) versus Payment (Cash)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="758.1177" y="847.4219">]</text><path d="M623,857.0977 L623,882.0977 L853,882.0977 L853,867.0977 L843,857.0977 L623,857.0977" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M843,857.0977 L843,867.0977 L853,867.0977 L843,857.0977" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.7266" x="629" y="874.666">Atomic DvP: of Cash vs Collateral</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#F0F0F0" points="398.0664,889.4082,388.0664,893.4082,398.0664,897.4082,394.0664,893.4082" style="stroke:#F0F0F0;stroke-width:1;"/><polygon fill="#F0F0F0" points="1027.1807,889.4082,1037.1807,893.4082,1027.1807,897.4082,1031.1807,893.4082" style="stroke:#F0F0F0;stroke-width:1;"/><line style="stroke:#F0F0F0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="392.0664" x2="1033.1807" y1="893.4082" y2="893.4082"/></g><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="841.8335,918.7188,851.8335,922.7188,841.8335,926.7188,845.8335,922.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="847.8335" y1="922.7188" y2="922.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="394.0664" y="917.9766">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="413.9917" y="917.9766">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9038" x="551.1011" y="917.9766">' lock collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,978.0293,388.0664,982.0293,398.0664,986.0293,394.0664,982.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="857.8335" y1="982.0293" y2="982.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="977.2871">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="977.2871">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="977.2871">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="CashToken"><polygon fill="#181818" points="697.3364,1007.3398,707.3364,1011.3398,697.3364,1015.3398,701.3364,1011.3398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="703.3364" y1="1011.3398" y2="1011.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="1006.5977">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="408.9917" y="1006.5977">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.1338" x="546.1011" y="1006.5977">' transfer cash</text></g><g class="message" data-participant-1="CashToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1036.6504,388.0664,1040.6504,398.0664,1044.6504,394.0664,1040.6504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="713.3364" y1="1040.6504" y2="1040.6504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1035.9082">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1035.9082">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1035.9082">'</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1106.0073" y1="1049.6504" y2="1049.6504"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="252.0645" y="1060.2852">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="841.8335,1080.916,851.8335,1084.916,841.8335,1088.916,845.8335,1084.916" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="847.8335" y1="1084.916" y2="1084.916"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="1080.1738">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="408.9917" y="1080.1738">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.519" x="546.1011" y="1080.1738">' pass collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1110.2266,388.0664,1114.2266,398.0664,1118.2266,394.0664,1114.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="857.8335" y1="1114.2266" y2="1114.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1109.4844">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1109.4844">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1109.4844">'</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1106.0073" y1="1148.2266" y2="1148.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="252.0645" y="1158.8613">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="841.8335,1179.4922,851.8335,1183.4922,841.8335,1187.4922,845.8335,1183.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="847.8335" y1="1183.4922" y2="1183.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="1178.75">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="408.9917" y="1178.75">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.6187" x="546.1011" y="1178.75">' revert collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1208.8027,388.0664,1212.8027,398.0664,1216.8027,394.0664,1212.8027" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="857.8335" y1="1212.8027" y2="1212.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1208.0605">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1208.0605">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1208.0605">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="429.0664" y1="1226.8027" y2="1226.8027"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="429.0664" x2="429.0664" y1="1226.8027" y2="1239.8027"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="388.0664" x2="429.0664" y1="1239.8027" y2="1239.8027"/><polygon fill="#FFFFFF" points="398.0664,1235.8027,388.0664,1239.8027,398.0664,1243.8027,394.0664,1239.8027" style="stroke:#FFFFFF;stroke-width:1;"/></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="1269.1133" y2="1269.1133"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="1269.1133" y2="1282.1133"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="1282.1133" y2="1282.1133"/><polygon fill="#181818" points="398.0664,1278.1133,388.0664,1282.1133,398.0664,1286.1133,394.0664,1282.1133" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="394.0664" y="1264.3711">terminate (see below)</text></g><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1273.1133" y2="1291.1133"/><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1291.1133" y2="1273.1133"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1294.5781" x="0" y="1317.7686"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="1317.7686" y2="1317.7686"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="1320.7686" y2="1320.7686"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="573.7847" y="1307.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="579.7847" y="1323.6816">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="659.2573" y="1323.6816">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="705.2969" y="1323.6816">'</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#FFFFFF" points="398.0664,1342.4238,388.0664,1346.4238,398.0664,1350.4238,394.0664,1346.4238" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="392.0664" x2="1038.1807" y1="1346.4238" y2="1346.4238"/></g><path d="M247.0645,1361.4238 L309.2031,1361.4238 L309.2031,1368.7344 L299.2031,1378.7344 L247.0645,1378.7344 L247.0645,1361.4238" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="242.4629" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="1361.4238"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="262.0645" y="1374.9922">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220.1235" x="324.2031" y="1374.0586">[Next Settlement Pre-Condition Check]</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1396.0449,388.0664,1400.0449,398.0664,1404.0449,394.0664,1400.0449" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="1038.1807" y1="1400.0449" y2="1400.0449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="404.0664" y="1395.3027">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.2827" x="423.9917" y="1395.3027">afterSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7051" x="527.2744" y="1395.3027">' optional time trigger to perform checks (e.g. pre-funding check)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="1429.3555" y2="1429.3555"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="1429.3555" y2="1442.3555"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="1442.3555" y2="1442.3555"/><polygon fill="#181818" points="398.0664,1438.3555,388.0664,1442.3555,398.0664,1446.3555,394.0664,1442.3555" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5576" x="394.0664" y="1424.6133">check pre-conditions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1106.0073" y1="1451.3555" y2="1451.3555"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="252.0645" y="1461.9902">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,1482.6211,1037.1807,1486.6211,1027.1807,1490.6211,1031.1807,1486.6211" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1033.1807" y1="1486.6211" y2="1486.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="394.0664" y="1481.8789">emit SettlementAwaitingInitiation</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1106.0073" y1="1520.6211" y2="1520.6211"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="252.0645" y="1531.2559">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="1555.8867" y2="1555.8867"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="1555.8867" y2="1568.8867"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="1568.8867" y2="1568.8867"/><polygon fill="#181818" points="398.0664,1564.8867,388.0664,1568.8867,398.0664,1572.8867,394.0664,1568.8867" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="394.0664" y="1551.1445">terminate (see below)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="429.0664" y1="1582.8867" y2="1582.8867"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="429.0664" x2="429.0664" y1="1582.8867" y2="1595.8867"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="388.0664" x2="429.0664" y1="1595.8867" y2="1595.8867"/><polygon fill="#FFFFFF" points="398.0664,1591.8867,388.0664,1595.8867,398.0664,1599.8867,394.0664,1595.8867" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1586.8867" y2="1604.8867"/><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1604.8867" y2="1586.8867"/><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#FFFFFF" points="1027.1807,1619.8867,1037.1807,1623.8867,1027.1807,1627.8867,1031.1807,1623.8867" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1033.1807" y1="1623.8867" y2="1623.8867"/></g><path d="M247.0645,1638.8867 L309.2031,1638.8867 L309.2031,1646.1973 L299.2031,1656.1973 L247.0645,1656.1973 L247.0645,1638.8867" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="275.7949" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="247.0645" y="1638.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="262.0645" y="1652.4551">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="324.2031" y="1651.5215">[</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.5181" x="328.2798" y="1651.5215">Upon Termination</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="430.7979" y="1651.5215">]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,1698.5078,1037.1807,1702.5078,1027.1807,1706.5078,1031.1807,1702.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1033.1807" y1="1702.5078" y2="1702.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.481" x="394.0664" y="1697.7656">emit SettlementFailed</text></g><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="841.8335,1773.75,851.8335,1777.75,841.8335,1781.75,845.8335,1777.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="847.8335" y1="1777.75" y2="1777.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="1727.0762">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="408.9917" y="1727.0762">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="582.6572" y="1727.0762">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="389.0664" y="1742.3867">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="389.0664" y="1757.6973">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="389.0664" y="1773.0078">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1803.0605,388.0664,1807.0605,398.0664,1811.0605,394.0664,1807.0605" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="857.8335" y1="1807.0605" y2="1807.0605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1802.3184">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1802.3184">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1802.3184">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1027.1807,1832.3711,1037.1807,1836.3711,1027.1807,1840.3711,1031.1807,1836.3711" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1033.1807" y1="1836.3711" y2="1836.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="394.0664" y="1831.6289">emit TradeTerminated</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFCFC;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="429.0664" y1="1855.3711" y2="1855.3711"/><line style="stroke:#FFFCFC;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="429.0664" x2="429.0664" y1="1855.3711" y2="1868.3711"/><line style="stroke:#FFFCFC;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="429.0664" y1="1868.3711" y2="1868.3711"/><polygon fill="#FFFCFC" points="392.0664,1864.3711,382.0664,1868.3711,392.0664,1872.3711,388.0664,1868.3711" style="stroke:#FFFCFC;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1854.3711" y2="1872.3711"/><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1872.3711" y2="1854.3711"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1294.5781" x="0" y="1892.0264"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="1892.0264" y2="1892.0264"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1294.5781" y1="1895.0264" y2="1895.0264"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="558.2996" y="1881.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="564.2996" y="1897.9395">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="643.7722" y="1897.9395">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="720.782" y="1897.9395">'</text><!--SRC=[pLXjJoCt4FxS_HMZy068kf2Zfmf5W0JBHKMwjWXelrplWzcTJLoytjHsmY7nuplsldatIvi4UjSWaSGUpyipCuzdipipPgx7XuTpmQHPPE8WphD3ZNyjKCOO9fnD5Si2mur0kCsOCfUe-98PliGebqQnsC3UXvie_F7TqG_x1_0xKvmqmICtCuYOdeN0P09HBWGpg9W8x_87b6unJzCmdZ4kwPHOaCvSmg-aKM0GaDvSmI3A5vAEpSdm4xmR0DCGNR_htJqgTu-2m2xmcC-j8xUN4NmAW5x38NqU3c7ileNqSXy6WojQ_nwkplMJZEyKapf55J4XxbdyC1W4dziARL1539NQUgLNUKjjZxeQcOxIzlesgZyiKPgV26c1ghLHm-sXRPEAxIExzN8TeITQvg7wGh2BF9zR3Ue9Rj5GnMIaB0XEJu5yJF3MMCbTIeFRJ8R3NJWz3Lmmf2myepICmNmPMnakkU4atoWYSITQsxIPtJaU7OycanuZTOo-6JeIXcT-a6FCkF7SlR6bhmqcJZv1trgXmpyTddMW78Cg5C2oBkc46TRsl7C8Tg9HD1gDd51dh-CjgJSB9VkqUxwkv7VLRuTrN1QvHTrYDaULvYfR5_CAKQSiOdFjuGZdcMrEO0P-PcfAFNwnIAbAuICkKRoO3UYaunAf1J8kAH-hARwILUtxEMQ2Z2T_BhJVMyMMVScS3WjC3T7FIlFjFCwumLeMF85IfujDOIgG895J6zm3KepviZc6n6tMJ6FKeTGnLe5koXZEPLAHZWsdMeQuSO7LBXIgKMW4lOXZrBenrYdQQhdfrMxGxwdwte-2rPZTVd-AAkHlhNLCodxvhdksNMTbn2mb2IzrVPvt5Ar6uLTYjRaBCsib12wNNFDxQYsJDqS4J-q_YQsyVDgPJ2QVdQSDg2dZuji0EY7BtnRDTjKMfEoQq0hkQKIuHv4_xdk6j57vKmqErNzGQEb9o3tHGiBeYY2c0JF3oWTYgnMQEbb9ZctkdSd8_i5lSw8_6W7ispLxSfqPsbiUuuL2k4J1tLsqrqI_3xIY5xgMtxCts_vmk2q_d9iyup5SBg_7JfwqmLBxnFCoAMnHoeyy8IyiQXMCzO4Lt1n81NJZrn2HoCcFk8T9rwx_lbkqho_MA-ythkzwj5cRZ-d01cHRJujKoTO1B_ngQvF0_vNocr5j4n0sgeWvqxgt8hObobTMn5jT7y_Fpq7d2dWDJ8ec7MLyeFx_E7t5UtRR6wQvOjPvi6XDlLqNjhYUNcucUpNzWb_ywHMk5ORqc9nmDwf7CumVUWcxVlQfyzQQmI6VMmKq0HgU4TQAJwV4H8HvER53R5LhsCE3wG7CoMfAOTZvr6tiT-eOYdAnMquuhbpK_y0nQqphvu-CswdugdXugp1RgxVMg88tAxl-ScfzsA8qV6kjvsXlSg4xO78C9yG9kHehJCxS47DNXasQJWxTtbcm9drRN3V8K3bTRaHh5yp4ipQt_I73va9SVUXBLPuvTo-OO39sQRh16FdIbkIr_RccfS6B7oQKzqtFtw10HcMbC6DSMfdxug1sFM9_-K3zdutpNvbyNyoouy8AIZ_9s_TDD8dArdbnsEyRy5Q8kV7Av-QwsQf2_Xi0]--></g></svg>