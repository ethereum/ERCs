<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2012px" preserveAspectRatio="none" style="width:1149px;height:2012px;background:#FFFFFF;" version="1.1" viewBox="0 0 1149 2012" width="1149px" zoomAndPan="magnify"><title>SmartDerivativeContract (ERC-6123). Variant with Cash- and Collateral-Token and off-chain Valuation Oracle</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="797.7949" x="171.6367" y="28.5352">SmartDerivativeContract (ERC-6123). Variant with Cash- and Collateral-Token and off-chain Valuation Oracle</text><g><title>CP1</title><rect fill="#FFFFFF" height="1793.7051" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1793.7051" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="217.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="203.8633" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="378.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="655.9004"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="756.4766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="132.9316" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="819.7871"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="982.0293"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1040.6504"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="69.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1114.2266"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="62.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1212.8027"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="242.4629" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1346.4238"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="153.8633" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1616.8867"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="49.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1800.0605"/></g><g><title>**CashToken** :</title><rect fill="#FF8080" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="556.8267" y="1011.3398"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="582.3242"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="78.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="677.9004"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="59.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="922.7188"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1084.916"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1183.4922"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1770.75"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1793.7051" style="stroke:#181818;stroke-width:1;" width="10" x="886.6709" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1056.4302" y="319.8398"/></g><rect fill="none" height="1778.7051" style="stroke:#000000;stroke-width:1.5;" width="1122.0684" x="10" y="135.9766"/><rect fill="none" height="298.3945" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="508.3926"/><rect fill="#F0F0F0" height="455.3262" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="834.7871"/><rect fill="#F0F0F0" height="98.5762" style="stroke:none;stroke-width:1;" width="858.9429" x="94.5547" y="1048.6504"/><rect fill="#F0F0F0" height="142.8867" style="stroke:none;stroke-width:1;" width="858.9429" x="94.5547" y="1147.2266"/><rect fill="none" height="242.4629" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1361.4238"/><rect fill="#FFF8F8" height="275.7949" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1631.8867"/><g><title>CP1</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="32.1387" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="118.9766" y2="1931.6816"/></g><g><title>CP2</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="74.416" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78.2773" x2="78.2773" y1="118.9766" y2="1931.6816"/></g><g><title>**SDC** :</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="225.5566" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="229.5547" x2="229.5547" y1="118.9766" y2="1931.6816"/></g><g><title>**CashToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="557.8267" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="561.8257" x2="561.8257" y1="118.9766" y2="1931.6816"/></g><g><title>**CollateralToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="702.3237" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="705.8276" x2="705.8276" y1="118.9766" y2="1931.6816"/></g><g><title>EventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="887.6709" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="890.8442" x2="890.8442" y1="118.9766" y2="1931.6816"/></g><g><title>ValuationOracle</title><rect fill="#000000" fill-opacity="0.00000" height="1812.7051" width="8" x="1057.4302" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1060.792" x2="1060.792" y1="118.9766" y2="1931.6816"/></g><g class="participant participant-head" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="116.0234">CP1</text><ellipse cx="36.1387" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,58.9883 L36.1387,85.9883 M23.1387,66.9883 L49.1387,66.9883 M36.1387,85.9883 L23.1387,100.9883 M36.1387,85.9883 L49.1387,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="1944.2168">CP1</text><ellipse cx="36.1387" cy="1955.6699" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,1963.6699 L36.1387,1990.6699 M23.1387,1971.6699 L49.1387,1971.6699 M36.1387,1990.6699 L23.1387,2005.6699 M36.1387,1990.6699 L49.1387,2005.6699" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="116.0234">CP2</text><ellipse cx="78.416" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,58.9883 L78.416,85.9883 M65.416,66.9883 L91.416,66.9883 M78.416,85.9883 L65.416,100.9883 M78.416,85.9883 L91.416,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="1944.2168">CP2</text><ellipse cx="78.416" cy="1955.6699" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,1963.6699 L78.416,1990.6699 M65.416,1971.6699 L91.416,1971.6699 M78.416,1990.6699 L65.416,2005.6699 M78.416,1990.6699 L91.416,2005.6699" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="104.5547" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="210.5903" y="81.7266">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="244.0933" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="104.5547" x2="354.5586" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="111.5547" y="107.6748">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-tail" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="104.5547" y="1930.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="210.5903" y="1951.2168">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="244.0933" y="1951.2168">:</text><line style="stroke:#181818;stroke-width:1;" x1="104.5547" x2="354.5586" y1="1959.1699" y2="1959.1699"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="111.5547" y="1977.165">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-head" data-participant="CashToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="495.8257" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1719" x="517.311" y="81.7266">CashToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="601.9126" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="495.8257" x2="627.8276" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="502.8257" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="CashToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="495.8257" y="1930.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1719" x="517.311" y="1951.2168">CashToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="601.9126" y="1951.2168">:</text><line style="stroke:#181818;stroke-width:1;" x1="495.8257" x2="627.8276" y1="1959.1699" y2="1959.1699"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="502.8257" y="1977.165">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="CollateralToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.9922" x="637.8276" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114.1328" x="644.8276" y="81.7266">CollateralToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="763.3901" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="637.8276" x2="774.8198" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="647.3228" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="CollateralToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.9922" x="637.8276" y="1930.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114.1328" x="644.8276" y="1951.2168">CollateralToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="763.3901" y="1951.2168">:</text><line style="stroke:#181818;stroke-width:1;" x1="637.8276" x2="774.8198" y1="1959.1699" y2="1959.1699"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="647.3228" y="1977.165">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="839.8442" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="846.8442" y="108.0234">EventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="839.8442" y="1930.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="846.8442" y="1951.2168">EventHandler</text></g><g class="participant participant-head" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1000.792" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1007.792" y="108.0234">ValuationOracle</text></g><g class="participant participant-tail" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1000.792" y="1930.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1007.792" y="1951.2168">ValuationOracle</text></g><g><title>CP1</title><rect fill="#FFFFFF" height="1793.7051" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1793.7051" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="217.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="203.8633" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="378.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="655.9004"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="756.4766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="132.9316" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="819.7871"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="982.0293"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1040.6504"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="69.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1114.2266"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="62.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1212.8027"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="242.4629" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1346.4238"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="153.8633" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1616.8867"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="49.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1800.0605"/></g><g><title>**CashToken** :</title><rect fill="#FF8080" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="556.8267" y="1011.3398"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="582.3242"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="78.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="677.9004"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="59.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="922.7188"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1084.916"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1183.4922"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1770.75"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1793.7051" style="stroke:#181818;stroke-width:1;" width="10" x="886.6709" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1056.4302" y="319.8398"/></g><path d="M10,135.9766 L84.4468,135.9766 L84.4468,143.2871 L74.4468,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1778.7051" style="stroke:#000000;stroke-width:1.5;" width="1122.0684" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="149.5449">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2324" x="99.4468" y="148.6113">[Every Settlement]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="173.9424"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="173.9424" y2="173.9424"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="176.9424" y2="176.9424"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="497.5298" y="163.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="503.5298" y="179.8555">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="583.0024" y="179.8555">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="629.042" y="179.8555">'</text><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="212.5566,213.9082,222.5566,217.9082,212.5566,221.9082,216.5566,217.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="218.5566" y1="217.9082" y2="217.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.0386" x="48.1387" y="213.166">tx: '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.4727" x="72.1772" y="213.166">initiateSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="190.6499" y="213.166">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="246.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="246.5635" y2="246.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="249.5635" y2="249.5635"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="164.4395" x="488.8145" y="235.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="494.8145" y="252.4766">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.4702" x="574.2871" y="252.4766">Valuation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="637.7573" y="252.4766">'</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,286.5293,884.6709,290.5293,874.6709,294.5293,878.6709,290.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="880.6709" y1="290.5293" y2="290.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="236.5566" y="285.7871">emit SettlementRequested</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ValuationOracle"><polygon fill="#181818" points="1044.4302,315.8398,1054.4302,319.8398,1044.4302,323.8398,1048.4302,319.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="896.6709" x2="1050.4302" y1="319.8398" y2="319.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.7593" x="903.6709" y="315.0977">request valuation data</text></g><g class="message" data-participant-1="ValuationOracle" data-participant-2="EventHandler"><polygon fill="#181818" points="907.6709,345.1504,897.6709,349.1504,907.6709,353.1504,903.6709,349.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="901.6709" x2="1060.4302" y1="349.1504" y2="349.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0947" x="913.6709" y="344.4082">return valuation data</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,374.4609,235.5566,378.4609,245.5566,382.4609,241.5566,378.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="885.6709" y1="378.4609" y2="378.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.1235" x="251.5566" y="373.7188">callback: tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.8042" x="330.6802" y="373.7188">performSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="456.4844" y="373.7188">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="407.7715" y2="407.7715"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="407.7715" y2="420.7715"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="420.7715" y2="420.7715"/><polygon fill="#181818" points="245.5566,416.7715,235.5566,420.7715,245.5566,424.7715,241.5566,420.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.27" x="241.5566" y="403.0293">Caps Settlement Amount at Margin Buffer Level</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,446.082,884.6709,450.082,874.6709,454.082,878.6709,450.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="450.082" y2="450.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="241.5566" y="445.3398">emit SettlementDetermined</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="478.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="478.7373" y2="478.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="481.7373" y2="481.7373"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.1426" x="485.4629" y="468.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="491.4629" y="484.6504">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.1733" x="570.9355" y="484.6504">InTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="641.1089" y="484.6504">'</text><path d="M94.5547,508.3926 L156.6934,508.3926 L156.6934,515.7031 L146.6934,525.7031 L94.5547,525.7031 L94.5547,508.3926" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="298.3945" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="508.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="521.9609">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.1626" x="171.6934" y="521.0273">[Adjust Collateral]</text><path d="M394,530.7031 L394,555.7031 L700,555.7031 L700,540.7031 L690,530.7031 L394,530.7031" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M690,530.7031 L690,540.7031 L700,540.7031 L690,530.7031" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.8096" x="400" y="548.2715">Collateral Adjustment reflecting Market Move</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,578.3242,699.3237,582.3242,689.3237,586.3242,693.3237,582.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="582.3242" y2="582.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="577.582">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="577.582">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.5972" x="393.5913" y="577.582">' transfer collateral adjustment</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="591.3242" y2="591.3242"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="99.5547" y="601.959">[success]</text><g class="message" data-participant-1="CollateralToken" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,622.5898,884.6709,626.5898,874.6709,630.5898,878.6709,626.5898" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="711.3237" x2="880.6709" y1="626.5898" y2="626.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="718.3237" y="621.8477">emit TransferSucceeded</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,651.9004,235.5566,655.9004,245.5566,659.9004,241.5566,655.9004" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="655.9004" y2="655.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="651.1582">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="651.1582">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="651.1582">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="674.9004" y2="674.9004"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="674.9004" y2="687.9004"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="276.5566" y1="687.9004" y2="687.9004"/><polygon fill="#FFFFFF" points="239.5566,683.9004,229.5566,687.9004,239.5566,691.9004,235.5566,687.9004" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="691.9004" y2="691.9004"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="99.5547" y="702.5352">[fail]</text><g class="message" data-participant-1="CollateralToken" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,723.166,884.6709,727.166,874.6709,731.166,878.6709,727.166" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="711.3237" x2="880.6709" y1="727.166" y2="727.166"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9575" x="718.3237" y="722.4238">emit TransferFailed</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,752.4766,235.5566,756.4766,245.5566,760.4766,241.5566,756.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="756.4766" y2="756.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="751.7344">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="751.7344">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="751.7344">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="785.7871" y2="785.7871"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="785.7871" y2="798.7871"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="798.7871" y2="798.7871"/><polygon fill="#181818" points="245.5566,794.7871,235.5566,798.7871,245.5566,802.7871,241.5566,798.7871" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="241.5566" y="781.0449">terminate (see below)</text></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="789.7871" y2="807.7871"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="807.7871" y2="789.7871"/><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#FFFFFF" points="245.5566,815.7871,235.5566,819.7871,245.5566,823.7871,241.5566,819.7871" style="stroke:#FFFFFF;stroke-width:1;"/><polygon fill="#FFFFFF" points="874.6709,815.7871,884.6709,819.7871,874.6709,823.7871,878.6709,819.7871" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="239.5566" x2="880.6709" y1="819.7871" y2="819.7871"/></g><path d="M94.5547,834.7871 L156.6934,834.7871 L156.6934,842.0977 L146.6934,852.0977 L94.5547,852.0977 L94.5547,834.7871" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="455.3262" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="834.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="848.3555">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143.6606" x="171.6934" y="847.4219">[Upon Coupon Payment -</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="286.6284" x="318.9795" y="847.4219">Secure Delivery (Collateral) versus Payment (Cash)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="605.6079" y="847.4219">]</text><path d="M470,857.0977 L470,882.0977 L700,882.0977 L700,867.0977 L690,857.0977 L470,857.0977" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M690,857.0977 L690,867.0977 L700,867.0977 L690,857.0977" fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.7266" x="476" y="874.666">Atomic DvP: of Cash vs Collateral</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#F0F0F0" points="245.5566,889.4082,235.5566,893.4082,245.5566,897.4082,241.5566,893.4082" style="stroke:#F0F0F0;stroke-width:1;"/><polygon fill="#F0F0F0" points="874.6709,889.4082,884.6709,893.4082,874.6709,897.4082,878.6709,893.4082" style="stroke:#F0F0F0;stroke-width:1;"/><line style="stroke:#F0F0F0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="239.5566" x2="880.6709" y1="893.4082" y2="893.4082"/></g><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,918.7188,699.3237,922.7188,689.3237,926.7188,693.3237,922.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="695.3237" y1="922.7188" y2="922.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="241.5566" y="917.9766">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="261.4819" y="917.9766">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9038" x="398.5913" y="917.9766">' lock collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,978.0293,235.5566,982.0293,245.5566,986.0293,241.5566,982.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="982.0293" y2="982.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="977.2871">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="977.2871">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="977.2871">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="CashToken"><polygon fill="#181818" points="544.8267,1007.3398,554.8267,1011.3398,544.8267,1015.3398,548.8267,1011.3398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="550.8267" y1="1011.3398" y2="1011.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="1006.5977">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="1006.5977">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.1338" x="393.5913" y="1006.5977">' transfer cash</text></g><g class="message" data-participant-1="CashToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1036.6504,235.5566,1040.6504,245.5566,1044.6504,241.5566,1040.6504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="560.8267" y1="1040.6504" y2="1040.6504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1035.9082">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1035.9082">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1035.9082">'</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="1049.6504" y2="1049.6504"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="99.5547" y="1060.2852">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,1080.916,699.3237,1084.916,689.3237,1088.916,693.3237,1084.916" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="1084.916" y2="1084.916"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="1080.1738">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="1080.1738">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.519" x="393.5913" y="1080.1738">' pass collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1110.2266,235.5566,1114.2266,245.5566,1118.2266,241.5566,1114.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="1114.2266" y2="1114.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1109.4844">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1109.4844">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1109.4844">'</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="1148.2266" y2="1148.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="99.5547" y="1158.8613">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,1179.4922,699.3237,1183.4922,689.3237,1187.4922,693.3237,1183.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="1183.4922" y2="1183.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="1178.75">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="1178.75">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.6187" x="393.5913" y="1178.75">' revert collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1208.8027,235.5566,1212.8027,245.5566,1216.8027,241.5566,1212.8027" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="1212.8027" y2="1212.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1208.0605">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1208.0605">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1208.0605">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="1226.8027" y2="1226.8027"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="1226.8027" y2="1239.8027"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="235.5566" x2="276.5566" y1="1239.8027" y2="1239.8027"/><polygon fill="#FFFFFF" points="245.5566,1235.8027,235.5566,1239.8027,245.5566,1243.8027,241.5566,1239.8027" style="stroke:#FFFFFF;stroke-width:1;"/></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="1269.1133" y2="1269.1133"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="1269.1133" y2="1282.1133"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="1282.1133" y2="1282.1133"/><polygon fill="#181818" points="245.5566,1278.1133,235.5566,1282.1133,245.5566,1286.1133,241.5566,1282.1133" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="241.5566" y="1264.3711">terminate (see below)</text></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1273.1133" y2="1291.1133"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1291.1133" y2="1273.1133"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="1317.7686"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1317.7686" y2="1317.7686"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1320.7686" y2="1320.7686"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="497.5298" y="1307.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="503.5298" y="1323.6816">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="583.0024" y="1323.6816">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="629.042" y="1323.6816">'</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#FFFFFF" points="245.5566,1342.4238,235.5566,1346.4238,245.5566,1350.4238,241.5566,1346.4238" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="239.5566" x2="885.6709" y1="1346.4238" y2="1346.4238"/></g><path d="M94.5547,1361.4238 L156.6934,1361.4238 L156.6934,1368.7344 L146.6934,1378.7344 L94.5547,1378.7344 L94.5547,1361.4238" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="242.4629" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1361.4238"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="1374.9922">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220.1235" x="171.6934" y="1374.0586">[Next Settlement Pre-Condition Check]</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1396.0449,235.5566,1400.0449,245.5566,1404.0449,241.5566,1400.0449" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="885.6709" y1="1400.0449" y2="1400.0449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="251.5566" y="1395.3027">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.2827" x="271.4819" y="1395.3027">afterSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7051" x="374.7646" y="1395.3027">' optional time trigger to perform checks (e.g. pre-funding check)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="1429.3555" y2="1429.3555"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="1429.3555" y2="1442.3555"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="1442.3555" y2="1442.3555"/><polygon fill="#181818" points="245.5566,1438.3555,235.5566,1442.3555,245.5566,1446.3555,241.5566,1442.3555" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5576" x="241.5566" y="1424.6133">check pre-conditions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="1451.3555" y2="1451.3555"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="99.5547" y="1461.9902">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,1482.6211,884.6709,1486.6211,874.6709,1490.6211,878.6709,1486.6211" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1486.6211" y2="1486.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="241.5566" y="1481.8789">emit SettlementAwaitingInitiation</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="1520.6211" y2="1520.6211"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="99.5547" y="1531.2559">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="1555.8867" y2="1555.8867"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="1555.8867" y2="1568.8867"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="1568.8867" y2="1568.8867"/><polygon fill="#181818" points="245.5566,1564.8867,235.5566,1568.8867,245.5566,1572.8867,241.5566,1568.8867" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="241.5566" y="1551.1445">terminate (see below)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="1582.8867" y2="1582.8867"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="1582.8867" y2="1595.8867"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="235.5566" x2="276.5566" y1="1595.8867" y2="1595.8867"/><polygon fill="#FFFFFF" points="245.5566,1591.8867,235.5566,1595.8867,245.5566,1599.8867,241.5566,1595.8867" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1586.8867" y2="1604.8867"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1604.8867" y2="1586.8867"/><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#FFFFFF" points="874.6709,1612.8867,884.6709,1616.8867,874.6709,1620.8867,878.6709,1616.8867" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1616.8867" y2="1616.8867"/></g><path d="M94.5547,1631.8867 L156.6934,1631.8867 L156.6934,1639.1973 L146.6934,1649.1973 L94.5547,1649.1973 L94.5547,1631.8867" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="275.7949" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1631.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="1645.4551">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="171.6934" y="1644.5215">[</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="212.0562" x="175.77" y="1644.5215">Upon Termination (Settlement Failed)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="387.8262" y="1644.5215">]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,1691.5078,884.6709,1695.5078,874.6709,1699.5078,878.6709,1695.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1695.5078" y2="1695.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.481" x="241.5566" y="1690.7656">emit SettlementFailed</text></g><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,1766.75,699.3237,1770.75,689.3237,1774.75,693.3237,1770.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="1770.75" y2="1770.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="1720.0762">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="256.4819" y="1720.0762">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="430.1475" y="1720.0762">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="236.5566" y="1735.3867">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="236.5566" y="1750.6973">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="236.5566" y="1766.0078">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1796.0605,235.5566,1800.0605,245.5566,1804.0605,241.5566,1800.0605" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="1800.0605" y2="1800.0605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1795.3184">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1795.3184">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1795.3184">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,1825.3711,884.6709,1829.3711,874.6709,1833.3711,878.6709,1829.3711" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1829.3711" y2="1829.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="241.5566" y="1824.6289">emit TradeTerminated</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFCFC;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="1848.3711" y2="1848.3711"/><line style="stroke:#FFFCFC;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="1848.3711" y2="1861.3711"/><line style="stroke:#FFFCFC;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="276.5566" y1="1861.3711" y2="1861.3711"/><polygon fill="#FFFCFC" points="239.5566,1857.3711,229.5566,1861.3711,239.5566,1865.3711,235.5566,1861.3711" style="stroke:#FFFCFC;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1847.3711" y2="1865.3711"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1865.3711" y2="1847.3711"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="1885.0264"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1885.0264" y2="1885.0264"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1888.0264" y2="1888.0264"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="482.0447" y="1874.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="488.0447" y="1890.9395">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="567.5173" y="1890.9395">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="644.5271" y="1890.9395">'</text><!--SRC=[pLZRRkCs47skle987c8RLUBTBeh0I09abJKQODi6ITgNxJumqiXcGv4gIJaR81_V8ML9r2MjxQIxTG1VoE5SpfmPZdAmD2RNiwEZd5DXYemVnZ8xql1N0IA6C65qeMWM66Oua9kCAdC1YgseOIk8f32AneQCFbn7uOzltlumFYI_KyLG4tbWPaaYgfSXeI8XaUIS6b2KXxVo7eHRb6aQnalA19xY1UgKWloA6Za40UgLYaHNR-flRuCWH_iiPharS7CHaKy1mTTaWjyd4p9plq9ykIzxUvUu_ZsvFDUF8hvLLEWKL4GvlwFn_TvUyBcjq3fR-bQfhLS6bRVK3gYh8-ueRQ_lelh32eJv2H7ae5eRDOmUYZPPq3voK2_N4NgYQyoh7mWxbpAt6jGZkG63JCXGMH2SdXBqCO4ROoKFC0rkCvbC3iZfQU22GMNX6QPXHioNcPLXWXc6yeqY57UYjKsRsVtZwV5qFXymKiVecy4ZONZc1pc3Z1dFtMjBQMqWSV89-DPA7VxfyAm3vOoeKW5PrLHDgA5jppk7o7uqZQRJgHFgx7MyHVMcK698k-ThBxzzlntMyPha5dMBMGugbIhR5FCAKQSiehdsS2JdcIpmWnhoCrKBhDttHOei9HzX1VpPR91EEYu0Io1Z0lFHJ_6bgBZlvvXoD9xyMMY_jiej-n8I3tD83RQLNl7jFooPWLgMU09hdIus1Ia7X4GiR73tW37ALNCCi6TPCurHXrB7M0MwMSTmBfAgwTXmgcKIDoxGseLIDN0DH1Tn35etnZgahPQRMkq6_GxPzsuQz6Ds-yCfgf2_iTOXMTVBTzspRPwj8wOfIdYf6_AyewWVXS_4QlE0BAsLa32nOfhTOMaPsHpXBBLl0bfv-RG_dyy_EqyRK5FA-BS1T8wMlosQRTQMJTaLeHKSQG1o1rm-Z3r3sYZvM8E3_0zABGC9kSEsa52y8h3J4BE4oWViLhqsTT9BZYtk_VdK_f7VScn_aIpinnLzT9KPsbiUua81kG3Et5qqQg8V4rpHXQxbH_Pc6qyck_Q7SoCp5fEBrTNCoQCsij9-utc-AUn0vGUMe1SMjGh6-a0FDmTI2Tti9Os8I_GZ7kYa6_D_w1OTgelDwFtA_Av7cutxCHxOejdMqo8osJhWXLzjRHFulxRyPbJR1eIj695JhGSPiMkZV24ZNklwU7fw2ZfNm4jWKZZfAEC3zV_7wIlUixlUCCqLiyc3HMlgxRgmm_NqV37Pg-aN-E9Fh-HAGOYFlmbpetgqXFX-i67NppvrtbepE96vLO0Je64POgtOOe6T235VJ-majger6S7Xuf3aQ3N5CEnywZR67HwJaYvsomd7bOlw7thC1jFw-GDbTYg-B1_UAimsggqDMF1gj1kcquwCy8sq7f-zWGLR__oOd60ha6gc83bpiyljEbhBZP77cd8479ySEVcpOCDERY7U8bdhGNEh3lUUcdZPRdD_YB2v6_lFVwcIcNFtFULKn2vZrn03MrbsNb5b7biQV4pcI85jpry31ueCKv1H9gpCNNbGktAn_mG1_PzDzb-v3p-RPTSMAoZz9EzUGj4yMbVHitF_qApNwz6DLtwRBXyPxFlV]--></g></svg>