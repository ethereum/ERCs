<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1953px" preserveAspectRatio="none" style="width:1149px;height:1953px;background:#FFFFFF;" version="1.1" viewBox="0 0 1149 1953" width="1149px" zoomAndPan="magnify"><title>SmartDerivativeContract (ERC-6123). Variant with Cash- and Collateral-Token and off-chain Valuation Oracle</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="797.7949" x="171.6367" y="28.5352">SmartDerivativeContract (ERC-6123). Variant with Cash- and Collateral-Token and off-chain Valuation Oracle</text><g><title>CP1</title><rect fill="#FFFFFF" height="1734.084" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1734.084" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="217.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="168.5527" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="378.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="620.5898"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="721.166"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="108.6211" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="784.4766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="922.4082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="981.0293"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="69.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1054.6055"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="62.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1153.1816"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="242.4629" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1286.8027"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="183.1738" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1557.2656"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1769.75"/></g><g><title>**CashToken** :</title><rect fill="#FF8080" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="556.8267" y="951.7188"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="547.0137"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="78.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="642.5898"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="59.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="863.0977"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1025.2949"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1123.8711"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1711.1289"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1734.084" style="stroke:#181818;stroke-width:1;" width="10" x="886.6709" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1056.4302" y="319.8398"/></g><rect fill="none" height="1719.084" style="stroke:#000000;stroke-width:1.5;" width="1122.0684" x="10" y="135.9766"/><rect fill="none" height="263.084" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="508.3926"/><rect fill="none" height="431.0156" style="stroke:#000000;stroke-width:1.5;" width="690.2651" x="94.5547" y="799.4766"/><rect fill="none" height="242.4629" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1301.8027"/><rect fill="none" height="275.7949" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1572.2656"/><g><title>CP1</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="32.1387" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="118.9766" y2="1872.0605"/></g><g><title>CP2</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="74.416" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78.2773" x2="78.2773" y1="118.9766" y2="1872.0605"/></g><g><title>**SDC** :</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="225.5566" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="229.5547" x2="229.5547" y1="118.9766" y2="1872.0605"/></g><g><title>**CashToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="557.8267" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="561.8257" x2="561.8257" y1="118.9766" y2="1872.0605"/></g><g><title>**CollateralToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="702.3237" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="705.8276" x2="705.8276" y1="118.9766" y2="1872.0605"/></g><g><title>EventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="887.6709" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="890.8442" x2="890.8442" y1="118.9766" y2="1872.0605"/></g><g><title>ValuationOracle</title><rect fill="#000000" fill-opacity="0.00000" height="1753.084" width="8" x="1057.4302" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1060.792" x2="1060.792" y1="118.9766" y2="1872.0605"/></g><g class="participant participant-head" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="116.0234">CP1</text><ellipse cx="36.1387" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,58.9883 L36.1387,85.9883 M23.1387,66.9883 L49.1387,66.9883 M36.1387,85.9883 L23.1387,100.9883 M36.1387,85.9883 L49.1387,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="1884.5957">CP1</text><ellipse cx="36.1387" cy="1896.0488" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,1904.0488 L36.1387,1931.0488 M23.1387,1912.0488 L49.1387,1912.0488 M36.1387,1931.0488 L23.1387,1946.0488 M36.1387,1931.0488 L49.1387,1946.0488" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="116.0234">CP2</text><ellipse cx="78.416" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,58.9883 L78.416,85.9883 M65.416,66.9883 L91.416,66.9883 M78.416,85.9883 L65.416,100.9883 M78.416,85.9883 L91.416,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="1884.5957">CP2</text><ellipse cx="78.416" cy="1896.0488" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,1904.0488 L78.416,1931.0488 M65.416,1912.0488 L91.416,1912.0488 M78.416,1931.0488 L65.416,1946.0488 M78.416,1931.0488 L91.416,1946.0488" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="104.5547" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="210.5903" y="81.7266">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="244.0933" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="104.5547" x2="354.5586" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="111.5547" y="107.6748">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-tail" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="104.5547" y="1871.0605"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="210.5903" y="1891.5957">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="244.0933" y="1891.5957">:</text><line style="stroke:#181818;stroke-width:1;" x1="104.5547" x2="354.5586" y1="1899.5488" y2="1899.5488"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="111.5547" y="1917.5439">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-head" data-participant="CashToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="495.8257" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1719" x="517.311" y="81.7266">CashToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="601.9126" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="495.8257" x2="627.8276" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="502.8257" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="CashToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="495.8257" y="1871.0605"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1719" x="517.311" y="1891.5957">CashToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="601.9126" y="1891.5957">:</text><line style="stroke:#181818;stroke-width:1;" x1="495.8257" x2="627.8276" y1="1899.5488" y2="1899.5488"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="502.8257" y="1917.5439">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="CollateralToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.9922" x="637.8276" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114.1328" x="644.8276" y="81.7266">CollateralToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="763.3901" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="637.8276" x2="774.8198" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="647.3228" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="CollateralToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.9922" x="637.8276" y="1871.0605"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114.1328" x="644.8276" y="1891.5957">CollateralToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="763.3901" y="1891.5957">:</text><line style="stroke:#181818;stroke-width:1;" x1="637.8276" x2="774.8198" y1="1899.5488" y2="1899.5488"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="647.3228" y="1917.5439">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="839.8442" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="846.8442" y="108.0234">EventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="839.8442" y="1871.0605"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="846.8442" y="1891.5957">EventHandler</text></g><g class="participant participant-head" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1000.792" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1007.792" y="108.0234">ValuationOracle</text></g><g class="participant participant-tail" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1000.792" y="1871.0605"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1007.792" y="1891.5957">ValuationOracle</text></g><g><title>CP1</title><rect fill="#FFFFFF" height="1734.084" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1734.084" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="217.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="168.5527" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="378.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="620.5898"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="721.166"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="108.6211" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="784.4766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="922.4082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="981.0293"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="69.2656" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1054.6055"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="62.3105" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1153.1816"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="242.4629" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1286.8027"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="183.1738" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1557.2656"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="224.5566" y="1769.75"/></g><g><title>**CashToken** :</title><rect fill="#FF8080" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="556.8267" y="951.7188"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="547.0137"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="78.5762" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="642.5898"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="59.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="863.0977"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1025.2949"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1123.8711"/></g><g><title>**CollateralToken** :</title><rect fill="#40C040" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="701.3237" y="1711.1289"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1734.084" style="stroke:#181818;stroke-width:1;" width="10" x="886.6709" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1056.4302" y="319.8398"/></g><path d="M10,135.9766 L84.4468,135.9766 L84.4468,143.2871 L74.4468,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1719.084" style="stroke:#000000;stroke-width:1.5;" width="1122.0684" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="149.5449">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2324" x="99.4468" y="148.6113">[Every Settlement]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="173.9424"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="173.9424" y2="173.9424"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="176.9424" y2="176.9424"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="497.5298" y="163.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="503.5298" y="179.8555">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="583.0024" y="179.8555">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="629.042" y="179.8555">'</text><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="212.5566,213.9082,222.5566,217.9082,212.5566,221.9082,216.5566,217.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="218.5566" y1="217.9082" y2="217.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.0386" x="48.1387" y="213.166">tx: '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.4727" x="72.1772" y="213.166">initiateSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="190.6499" y="213.166">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="246.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="246.5635" y2="246.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="249.5635" y2="249.5635"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="164.4395" x="488.8145" y="235.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="494.8145" y="252.4766">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.4702" x="574.2871" y="252.4766">Valuation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="637.7573" y="252.4766">'</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,286.5293,884.6709,290.5293,874.6709,294.5293,878.6709,290.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="880.6709" y1="290.5293" y2="290.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="236.5566" y="285.7871">emit SettlementRequested</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ValuationOracle"><polygon fill="#181818" points="1044.4302,315.8398,1054.4302,319.8398,1044.4302,323.8398,1048.4302,319.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="896.6709" x2="1050.4302" y1="319.8398" y2="319.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.7593" x="903.6709" y="315.0977">request valuation data</text></g><g class="message" data-participant-1="ValuationOracle" data-participant-2="EventHandler"><polygon fill="#181818" points="907.6709,345.1504,897.6709,349.1504,907.6709,353.1504,903.6709,349.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="901.6709" x2="1060.4302" y1="349.1504" y2="349.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0947" x="913.6709" y="344.4082">return valuation data</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,374.4609,235.5566,378.4609,245.5566,382.4609,241.5566,378.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="885.6709" y1="378.4609" y2="378.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.1235" x="251.5566" y="373.7188">callback: tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.8042" x="330.6802" y="373.7188">performSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="456.4844" y="373.7188">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="407.7715" y2="407.7715"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="407.7715" y2="420.7715"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="420.7715" y2="420.7715"/><polygon fill="#181818" points="245.5566,416.7715,235.5566,420.7715,245.5566,424.7715,241.5566,420.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.27" x="241.5566" y="403.0293">Caps Settlement Amount at Margin Buffer Level</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,446.082,884.6709,450.082,874.6709,454.082,878.6709,450.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="450.082" y2="450.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="241.5566" y="445.3398">emit SettlementDetermined</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="478.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="478.7373" y2="478.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="481.7373" y2="481.7373"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.1426" x="485.4629" y="468.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="491.4629" y="484.6504">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.1733" x="570.9355" y="484.6504">InTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="641.1089" y="484.6504">'</text><path d="M94.5547,508.3926 L156.6934,508.3926 L156.6934,515.7031 L146.6934,525.7031 L94.5547,525.7031 L94.5547,508.3926" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="263.084" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="508.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="521.9609">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.1626" x="171.6934" y="521.0273">[Adjust Collateral]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,543.0137,699.3237,547.0137,689.3237,551.0137,693.3237,547.0137" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="547.0137" y2="547.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="542.2715">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="542.2715">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.5972" x="393.5913" y="542.2715">' transfer collateral adjustment</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="556.0137" y2="556.0137"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="99.5547" y="566.6484">[success]</text><g class="message" data-participant-1="CollateralToken" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,587.2793,884.6709,591.2793,874.6709,595.2793,878.6709,591.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="711.3237" x2="880.6709" y1="591.2793" y2="591.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="718.3237" y="586.5371">emit TransferSucceeded</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,616.5898,235.5566,620.5898,245.5566,624.5898,241.5566,620.5898" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="620.5898" y2="620.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="615.8477">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="615.8477">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="615.8477">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="639.5898" y2="639.5898"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="639.5898" y2="652.5898"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="276.5566" y1="652.5898" y2="652.5898"/><polygon fill="#FFFFFF" points="239.5566,648.5898,229.5566,652.5898,239.5566,656.5898,235.5566,652.5898" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="656.5898" y2="656.5898"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="99.5547" y="667.2246">[fail]</text><g class="message" data-participant-1="CollateralToken" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,687.8555,884.6709,691.8555,874.6709,695.8555,878.6709,691.8555" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="711.3237" x2="880.6709" y1="691.8555" y2="691.8555"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9575" x="718.3237" y="687.1133">emit TransferFailed</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,717.166,235.5566,721.166,245.5566,725.166,241.5566,721.166" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="721.166" y2="721.166"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="716.4238">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="716.4238">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="716.4238">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="750.4766" y2="750.4766"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="750.4766" y2="763.4766"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="763.4766" y2="763.4766"/><polygon fill="#181818" points="245.5566,759.4766,235.5566,763.4766,245.5566,767.4766,241.5566,763.4766" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="241.5566" y="745.7344">terminate (see below)</text></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="754.4766" y2="772.4766"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="772.4766" y2="754.4766"/><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#FFFFFF" points="245.5566,780.4766,235.5566,784.4766,245.5566,788.4766,241.5566,784.4766" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="239.5566" x2="885.6709" y1="784.4766" y2="784.4766"/></g><path d="M94.5547,799.4766 L156.6934,799.4766 L156.6934,806.7871 L146.6934,816.7871 L94.5547,816.7871 L94.5547,799.4766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="431.0156" style="stroke:#000000;stroke-width:1.5;" width="690.2651" x="94.5547" y="799.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="813.0449">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143.6606" x="171.6934" y="812.1113">[Upon Coupon Payment -</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="286.6284" x="318.9795" y="812.1113">Secure Delivery (Collateral) versus Payment (Cash)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="605.6079" y="812.1113">]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,859.0977,699.3237,863.0977,689.3237,867.0977,693.3237,863.0977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="695.3237" y1="863.0977" y2="863.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="241.5566" y="858.3555">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="261.4819" y="858.3555">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9038" x="398.5913" y="858.3555">' lock collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,918.4082,235.5566,922.4082,245.5566,926.4082,241.5566,922.4082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="922.4082" y2="922.4082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="917.666">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="917.666">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="917.666">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="CashToken"><polygon fill="#181818" points="544.8267,947.7188,554.8267,951.7188,544.8267,955.7188,548.8267,951.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="550.8267" y1="951.7188" y2="951.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="946.9766">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="946.9766">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.1338" x="393.5913" y="946.9766">' transfer cash</text></g><g class="message" data-participant-1="CashToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,977.0293,235.5566,981.0293,245.5566,985.0293,241.5566,981.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="560.8267" y1="981.0293" y2="981.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="976.2871">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="976.2871">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="976.2871">'</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="784.8198" y1="990.0293" y2="990.0293"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="99.5547" y="1000.6641">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,1021.2949,699.3237,1025.2949,689.3237,1029.2949,693.3237,1025.2949" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="1025.2949" y2="1025.2949"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="1020.5527">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="1020.5527">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.519" x="393.5913" y="1020.5527">' pass collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1050.6055,235.5566,1054.6055,245.5566,1058.6055,241.5566,1054.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="1054.6055" y2="1054.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1049.8633">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1049.8633">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1049.8633">'</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="784.8198" y1="1088.6055" y2="1088.6055"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="99.5547" y="1099.2402">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,1119.8711,699.3237,1123.8711,689.3237,1127.8711,693.3237,1123.8711" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.5566" x2="695.3237" y1="1123.8711" y2="1123.8711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="236.5566" y="1119.1289">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="256.4819" y="1119.1289">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.6187" x="393.5913" y="1119.1289">' revert collateral</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1149.1816,235.5566,1153.1816,245.5566,1157.1816,241.5566,1153.1816" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="1153.1816" y2="1153.1816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1148.4395">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1148.4395">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1148.4395">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="1167.1816" y2="1167.1816"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="1167.1816" y2="1180.1816"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="235.5566" x2="276.5566" y1="1180.1816" y2="1180.1816"/><polygon fill="#FFFFFF" points="245.5566,1176.1816,235.5566,1180.1816,245.5566,1184.1816,241.5566,1180.1816" style="stroke:#FFFFFF;stroke-width:1;"/></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="1209.4922" y2="1209.4922"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="1209.4922" y2="1222.4922"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="1222.4922" y2="1222.4922"/><polygon fill="#181818" points="245.5566,1218.4922,235.5566,1222.4922,245.5566,1226.4922,241.5566,1222.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="241.5566" y="1204.75">terminate (see below)</text></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1213.4922" y2="1231.4922"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1231.4922" y2="1213.4922"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="1258.1475"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1258.1475" y2="1258.1475"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1261.1475" y2="1261.1475"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="497.5298" y="1247.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="503.5298" y="1264.0605">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="583.0024" y="1264.0605">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="629.042" y="1264.0605">'</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#FFFFFF" points="245.5566,1282.8027,235.5566,1286.8027,245.5566,1290.8027,241.5566,1286.8027" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="239.5566" x2="885.6709" y1="1286.8027" y2="1286.8027"/></g><path d="M94.5547,1301.8027 L156.6934,1301.8027 L156.6934,1309.1133 L146.6934,1319.1133 L94.5547,1319.1133 L94.5547,1301.8027" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="242.4629" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1301.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="1315.3711">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220.1235" x="171.6934" y="1314.4375">[Next Settlement Pre-Condition Check]</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1336.4238,235.5566,1340.4238,245.5566,1344.4238,241.5566,1340.4238" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="885.6709" y1="1340.4238" y2="1340.4238"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="251.5566" y="1335.6816">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.2827" x="271.4819" y="1335.6816">afterSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7051" x="374.7646" y="1335.6816">' optional time trigger to perform checks (e.g. pre-funding check)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="1369.7344" y2="1369.7344"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="1369.7344" y2="1382.7344"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="1382.7344" y2="1382.7344"/><polygon fill="#181818" points="245.5566,1378.7344,235.5566,1382.7344,245.5566,1386.7344,241.5566,1382.7344" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5576" x="241.5566" y="1364.9922">check pre-conditions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="1391.7344" y2="1391.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="99.5547" y="1402.3691">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,1423,884.6709,1427,874.6709,1431,878.6709,1427" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1427" y2="1427"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="241.5566" y="1422.2578">emit SettlementAwaitingInitiation</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="94.5547" x2="953.4976" y1="1461" y2="1461"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="99.5547" y="1471.6348">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="276.5566" y1="1496.2656" y2="1496.2656"/><line style="stroke:#181818;stroke-width:1;" x1="276.5566" x2="276.5566" y1="1496.2656" y2="1509.2656"/><line style="stroke:#181818;stroke-width:1;" x1="235.5566" x2="276.5566" y1="1509.2656" y2="1509.2656"/><polygon fill="#181818" points="245.5566,1505.2656,235.5566,1509.2656,245.5566,1513.2656,241.5566,1509.2656" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6494" x="241.5566" y="1491.5234">terminate (see below)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="1523.2656" y2="1523.2656"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="1523.2656" y2="1536.2656"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="235.5566" x2="276.5566" y1="1536.2656" y2="1536.2656"/><polygon fill="#FFFFFF" points="245.5566,1532.2656,235.5566,1536.2656,245.5566,1540.2656,241.5566,1536.2656" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1527.2656" y2="1545.2656"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1545.2656" y2="1527.2656"/><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#FFFFFF" points="874.6709,1553.2656,884.6709,1557.2656,874.6709,1561.2656,878.6709,1557.2656" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1557.2656" y2="1557.2656"/></g><path d="M94.5547,1572.2656 L156.6934,1572.2656 L156.6934,1579.5762 L146.6934,1589.5762 L94.5547,1589.5762 L94.5547,1572.2656" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="275.7949" style="stroke:#000000;stroke-width:1.5;" width="858.9429" x="94.5547" y="1572.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="109.5547" y="1585.834">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="171.6934" y="1584.9004">[</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="212.0562" x="175.77" y="1584.9004">Upon Termination (Settlement Failed)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="387.8262" y="1584.9004">]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,1631.8867,884.6709,1635.8867,874.6709,1639.8867,878.6709,1635.8867" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="880.6709" y1="1635.8867" y2="1635.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.481" x="241.5566" y="1631.1445">emit SettlementFailed</text></g><g class="message" data-participant-1="SDC" data-participant-2="CollateralToken"><polygon fill="#181818" points="689.3237,1707.1289,699.3237,1711.1289,689.3237,1715.1289,693.3237,1711.1289" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="234.5566" x2="695.3237" y1="1711.1289" y2="1711.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="241.5566" y="1660.4551">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="261.4819" y="1660.4551">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="435.1475" y="1660.4551">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="241.5566" y="1675.7656">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="241.5566" y="1691.0762">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="241.5566" y="1706.3867">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="874.6709,1736.4395,884.6709,1740.4395,874.6709,1744.4395,878.6709,1740.4395" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="880.6709" y1="1740.4395" y2="1740.4395"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="236.5566" y="1735.6973">emit TradeTerminated</text></g><g class="message" data-participant-1="CollateralToken" data-participant-2="SDC"><polygon fill="#181818" points="245.5566,1765.75,235.5566,1769.75,245.5566,1773.75,241.5566,1769.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.5566" x2="705.3237" y1="1769.75" y2="1769.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="251.5566" y="1765.0078">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="326.5669" y="1765.0078">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="415.7197" y="1765.0078">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="234.5566" x2="276.5566" y1="1788.75" y2="1788.75"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="276.5566" x2="276.5566" y1="1788.75" y2="1801.75"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="229.5566" x2="276.5566" y1="1801.75" y2="1801.75"/><polygon fill="#FFFFFF" points="239.5566,1797.75,229.5566,1801.75,239.5566,1805.75,235.5566,1801.75" style="stroke:#FFFFFF;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1787.75" y2="1805.75"/><line style="stroke:#A80036;stroke-width:2;" x1="220.5566" x2="238.5566" y1="1805.75" y2="1787.75"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1142.0684" x="0" y="1825.4053"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1825.4053" y2="1825.4053"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1142.0684" y1="1828.4053" y2="1828.4053"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="482.0447" y="1814.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="488.0447" y="1831.3184">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="567.5173" y="1831.3184">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="644.5271" y="1831.3184">'</text><!--SRC=[pLVTRzis47-U_WeYUV07fiJjYg4m6WE9KcC1kYs8ixrqVQ2bays5eZIISceWV_oEb2LJijpAJh3C3xPC7k_ZTxyxddfBhJCrFZ_FE1KwJ_XPc2Rd2lx9GOJWHumk94qypJG7CakerDSWsOfgje8W5LhIK9F-nxl0__dDsvy6P-HFAXbg8ezCBqb0rT8dL4GaI3cd6YJb_dtw0C8kfd7iXqlA19xYEUfC1VaTDNBmFDIRIXBSlgcUtdfUXlPPo39ZO7OTaCyUmSzmYC_38HdRVpv-xCF9oGsk_qXkBjLQXFUI2XM332ZdSne-d9nuN-eAZRE5RwNQQgLLUKrjYxegueRI-lengZ-kGEXV444EihPHmUYWQ985zIEzQhcAq17TO5x-GTXvccP6WroJ6MXaGeBAFE_YWg2F4SoqaUnX6kncD1psoCM5PuD1PVu4qp0c-klOo331D4FvhI8KjwALJPFPq_UZzwFfjCL85QDh1e_u_iGDSWm9quwxTuRIIaDavIDmhHKwtDF-f07bcCX20LbLL8sefdNF6uV8QJ0AHgEH5MhiDRn5zJgNeasxu-jEVdVzjbY76v8Rr0rc6SWubKbNp4j4hRA0Pih1aLmcQOu_L9DVgLnWxLxbCRAKV88LyBtP88rqN0EMGC84vcCtnJUYvBwROyhHUFHthjpQAhOgXnl5LSQlD-ekHLJMlz5SBfEmEaQejL0GtAW5he2eF0n1gQsn1d_AvMtPD8h_z1qIuTse4cpijwDLWZ0prY7QKFU7vjbwoZSHqnWb71JRF6yeset29KMvsIDBOyKdJAoOOdDakKwtHpYBpPU0Mbu-dqwdqo_MqoseCMNyTG2TekNNHRFEsg8_sdemWdq5GER0qyU1OqXfcQuhS41WuNXx4ZB72eqeTciiUgANKFg0ZMEtOpHpOyhiZmmRK93cvkUMhctT- -QUXJ2NGAw1CtiRzBT13mYkg5nLydrpjmo6GwyRhvwUdfvJoZn53CAMjj2PGMrNGXkpkX7aXHbItTETEneUEA1TLQCFai4uu8HVRXqI-7URvdRkE0I4WnYHKQLQ6N5igtac8rwg0Pj2QJJHvy0ayTgMsWNg_u_JVtXJ7TkZdIRTPKp-PaS-eiFlhoRJtd-3h-uiHcub-FWo5p4xU0PB21-ge5gcIoTnjOcIf9bHW4EKPWc2BTbYWQq8GT_CdoGqgXNfmzdYZ6HeDSOmc5WK6uC6aKd15xDbXSFIHVMD9jDXzhnyfAX6B6wALv4Iiqx5rO46ByQxFNmwaXAkbThRO4MB3zW4KZcM44ti072_2TEGek_GfHYV1X_EhVp4wzZ3cpVyTxAq6T8EwcrNL8VBUeFxI_ZRMt7tDIQMQMBTlQASYj2cwWv2O2j3orjyjrxNDBYOJ37tXvw_0muKgIKXeVWgZ3Bpug2oTMBUvK4TFhpinTDsdj9f5yuztVsLn-5dryxUWRbjnDlfp5kWtEPSb9tv_XS0]--></g></svg>