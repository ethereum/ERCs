<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2150px" preserveAspectRatio="none" style="width:1311px;height:2150px;background:#FFFFFF;" version="1.1" viewBox="0 0 1311 2150" width="1311px" zoomAndPan="magnify"><title>SmartDerivativeContract (ERC-6123). Variant with Settlement-Token and off-chain Valuation Service</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="730.0371" x="286.6326" y="28.5352">SmartDerivativeContract (ERC-6123). Variant with Settlement-Token and off-chain Valuation Service</text><g><title>CP1</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="203.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="174.8633" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="364.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="83.6211" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="611.9453"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="799.498"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="100.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="960.0508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1227.1797"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="158.8633" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1412.377"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1600.5508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="206.084" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1731.4824"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1966.877"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="539.3242"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="166.1973" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1060.9824"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1338.8008"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1541.9297"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1908.2559"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1041.9155" y="128.9766"/></g><g><title>ValuationService</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1216.6748" y="128.9766"/></g><rect fill="none" height="610.9004" style="stroke:#000000;stroke-width:1.5;" width="1098.7422" x="10" y="135.9766"/><rect fill="none" height="1291.3105" style="stroke:#000000;stroke-width:1.5;" width="1284.3022" x="10" y="760.877"/><rect fill="none" height="559.5684" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1119.293"/><rect fill="none" height="352.3262" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1692.8613"/><g><title>CP1</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="32.1387" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="118.9766" y2="2069.1875"/></g><g><title>CP2</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="74.416" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78.2773" x2="78.2773" y1="118.9766" y2="2069.1875"/></g><g><title>**SDC** :</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="299.2944" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="303.2925" x2="303.2925" y1="118.9766" y2="2069.1875"/></g><g><title>**SettlementToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="857.5684" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="861.2339" x2="861.2339" y1="118.9766" y2="2069.1875"/></g><g><title>EventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="1042.9155" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1046.0889" x2="1046.0889" y1="118.9766" y2="2069.1875"/></g><g><title>ValuationService</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="1217.6748" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1221.0474" x2="1221.0474" y1="118.9766" y2="2069.1875"/></g><g class="participant participant-head" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="116.0234">CP1</text><ellipse cx="36.1387" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,58.9883 L36.1387,85.9883 M23.1387,66.9883 L49.1387,66.9883 M36.1387,85.9883 L23.1387,100.9883 M36.1387,85.9883 L49.1387,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="2081.7227">CP1</text><ellipse cx="36.1387" cy="2093.1758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,2101.1758 L36.1387,2128.1758 M23.1387,2109.1758 L49.1387,2109.1758 M36.1387,2128.1758 L23.1387,2143.1758 M36.1387,2128.1758 L49.1387,2143.1758" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="116.0234">CP2</text><ellipse cx="78.416" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,58.9883 L78.416,85.9883 M65.416,66.9883 L91.416,66.9883 M78.416,85.9883 L65.416,100.9883 M78.416,85.9883 L91.416,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="2081.7227">CP2</text><ellipse cx="78.416" cy="2093.1758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,2101.1758 L78.416,2128.1758 M65.416,2109.1758 L91.416,2109.1758 M78.416,2128.1758 L65.416,2143.1758 M78.416,2128.1758 L91.416,2143.1758" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="178.2925" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="284.3281" y="81.7266">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="317.8311" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="178.2925" x2="428.2964" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="185.2925" y="107.6748">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-tail" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="178.2925" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="284.3281" y="2088.7227">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="317.8311" y="2088.7227">:</text><line style="stroke:#181818;stroke-width:1;" x1="178.2925" x2="428.2964" y1="2096.6758" y2="2096.6758"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="185.2925" y="2114.6709">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-head" data-participant="SettlementToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.6689" x="789.2339" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.8096" x="796.2339" y="81.7266">SettlementToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="922.4731" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="789.2339" x2="933.9028" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="802.5674" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="SettlementToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.6689" x="789.2339" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.8096" x="796.2339" y="2088.7227">SettlementToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="922.4731" y="2088.7227">:</text><line style="stroke:#181818;stroke-width:1;" x1="789.2339" x2="933.9028" y1="2096.6758" y2="2096.6758"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="802.5674" y="2114.6709">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="995.0889" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="1002.0889" y="108.0234">EventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="995.0889" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="1002.0889" y="2088.7227">EventHandler</text></g><g class="participant participant-head" data-participant="ValuationService"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2549" x="1159.0474" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2549" x="1166.0474" y="108.0234">ValuationService</text></g><g class="participant participant-tail" data-participant="ValuationService"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2549" x="1159.0474" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2549" x="1166.0474" y="2088.7227">ValuationService</text></g><g><title>CP1</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="203.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="174.8633" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="364.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="83.6211" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="611.9453"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="799.498"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="100.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="960.0508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1227.1797"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="158.8633" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1412.377"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1600.5508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="206.084" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1731.4824"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1966.877"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="539.3242"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="166.1973" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1060.9824"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1338.8008"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1541.9297"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1908.2559"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1041.9155" y="128.9766"/></g><g><title>ValuationService</title><rect fill="#FFFFFF" height="1931.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1216.6748" y="128.9766"/></g><path d="M10,135.9766 L156.0039,135.9766 L156.0039,143.2871 L146.0039,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="610.9004" style="stroke:#000000;stroke-width:1.5;" width="1098.7422" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.0039" x="25" y="149.5449">Initialize Trade</text><g class="message" data-participant-1="CP1" data-participant-2="SettlementToken"><polygon fill="#181818" points="849.5684,170.5977,859.5684,174.5977,849.5684,178.5977,853.5684,174.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="855.5684" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6309" x="48.1387" y="169.8555">allocate balances</text></g><g class="message" data-participant-1="CP2" data-participant-2="SettlementToken"><polygon fill="#181818" points="849.5684,199.9082,859.5684,203.9082,849.5684,207.9082,853.5684,203.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="83.416" x2="855.5684" y1="203.9082" y2="203.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6309" x="90.416" y="199.166">allocate balances</text></g><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,229.2188,296.2944,233.2188,286.2944,237.2188,290.2944,233.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="292.2944" y1="233.2188" y2="233.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="48.1387" y="228.4766">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44.9541" x="68.064" y="228.4766">deploy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.2764" x="113.0181" y="228.4766">' a SDC with token address</text></g><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,258.5293,296.2944,262.5293,286.2944,266.5293,290.2944,262.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="292.2944" y1="262.5293" y2="262.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="48.1387" y="257.7871">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.936" x="68.064" y="257.7871">inceptTrade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="148" y="257.7871">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,287.8398,1039.9155,291.8398,1029.9155,295.8398,1033.9155,291.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="291.8398" y2="291.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.4399" x="310.2944" y="287.0977">emit TradeIncepted</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="320.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="320.4951" y2="320.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="323.4951" y2="323.4951"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="158.4663" x="572.918" y="309.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="578.918" y="326.4082">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="57.4971" x="658.3906" y="326.4082">Incepted</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="715.8877" y="326.4082">'</text><g class="message" data-participant-1="CP2" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,360.4609,296.2944,364.4609,286.2944,368.4609,290.2944,364.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="83.416" x2="292.2944" y1="364.4609" y2="364.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="90.416" y="359.7188">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90.6445" x="110.3413" y="359.7188">confirmTrade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="200.9858" y="359.7188">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="350.2944" y1="393.7715" y2="393.7715"/><line style="stroke:#181818;stroke-width:1;" x1="350.2944" x2="350.2944" y1="393.7715" y2="406.7715"/><line style="stroke:#181818;stroke-width:1;" x1="309.2944" x2="350.2944" y1="406.7715" y2="406.7715"/><polygon fill="#181818" points="319.2944,402.7715,309.2944,406.7715,319.2944,410.7715,315.2944,406.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.1914" x="315.2944" y="389.0293">validate tradedata</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,432.082,1039.9155,436.082,1029.9155,440.082,1033.9155,436.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="436.082" y2="436.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7227" x="315.2944" y="431.3398">emit TradeConfirmed</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="464.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="464.7373" y2="464.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="467.7373" y2="467.7373"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.4346" x="566.4338" y="454.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="572.4338" y="470.6504">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.4653" x="651.9065" y="470.6504">Confirmed</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="722.3718" y="470.6504">'</text><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,535.3242,854.5684,539.3242,844.5684,543.3242,848.5684,539.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.2944" x2="850.5684" y1="539.3242" y2="539.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="310.2944" y="503.9609">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="330.2197" y="503.9609">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="503.8853" y="503.9609">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="500.7729" x="310.2944" y="519.2715">- transfer margin buffers and termination fees to SDC address for CP1 and CP2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394.7671" x="310.2944" y="534.582">-  transfer optional Upfront Fee from Paying to Receiving Party</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="567.9795"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="567.9795" y2="567.9795"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="570.9795" y2="570.9795"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.0601" x="566.6211" y="557.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="572.6211" y="573.8926">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.0908" x="652.0938" y="573.8926">inTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="722.1846" y="573.8926">'</text><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,607.9453,309.2944,611.9453,319.2944,615.9453,315.2944,611.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="611.9453" y2="611.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="607.2031">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="607.2031">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="607.2031">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,662.2559,1039.9155,666.2559,1029.9155,670.2559,1033.9155,666.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="666.2559" y2="666.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6992" x="315.2944" y="661.5137">emit TradeActivated</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,691.5664,1039.9155,695.5664,1029.9155,699.5664,1033.9155,695.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="695.5664" y2="695.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="310.2944" y="690.8242">emit SettlementAwaitingInitiation</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="724.2217"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="724.2217" y2="724.2217"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="727.2217" y2="727.2217"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="159.6787" x="572.3118" y="713.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92.1426" x="578.3118" y="730.1348">ProcessState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="670.4543" y="730.1348">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="716.4939" y="730.1348">'</text><path d="M10,760.877 L84.4468,760.877 L84.4468,768.1875 L74.4468,778.1875 L10,778.1875 L10,760.877" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1291.3105" style="stroke:#000000;stroke-width:1.5;" width="1284.3022" x="10" y="760.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="774.4453">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2324" x="99.4468" y="773.5117">[Every Settlement]</text><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,795.498,296.2944,799.498,286.2944,803.498,290.2944,799.498" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="292.2944" y1="799.498" y2="799.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.0386" x="48.1387" y="794.7559">tx: '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.4727" x="72.1772" y="794.7559">initiateSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="190.6499" y="794.7559">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="828.1533"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="828.1533" y2="828.1533"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="831.1533" y2="831.1533"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="164.4395" x="569.9314" y="817.498"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="575.9314" y="834.0664">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.4702" x="655.4041" y="834.0664">Valuation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="718.8743" y="834.0664">'</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,868.1191,1039.9155,872.1191,1029.9155,876.1191,1033.9155,872.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="872.1191" y2="872.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="310.2944" y="867.377">emit SettlementRequested</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ValuationService"><polygon fill="#181818" points="1204.6748,897.4297,1214.6748,901.4297,1204.6748,905.4297,1208.6748,901.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1051.9155" x2="1210.6748" y1="901.4297" y2="901.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.7593" x="1058.9155" y="896.6875">request valuation data</text></g><g class="message" data-participant-1="ValuationService" data-participant-2="EventHandler"><polygon fill="#181818" points="1062.9155,926.7402,1052.9155,930.7402,1062.9155,934.7402,1058.9155,930.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1056.9155" x2="1215.6748" y1="930.7402" y2="930.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0947" x="1068.9155" y="925.998">return valuation data</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,956.0508,309.2944,960.0508,319.2944,964.0508,315.2944,960.0508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="1040.9155" y1="960.0508" y2="960.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.1235" x="325.2944" y="955.3086">callback: tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.8042" x="404.418" y="955.3086">performSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="530.2222" y="955.3086">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="350.2944" y1="989.3613" y2="989.3613"/><line style="stroke:#181818;stroke-width:1;" x1="350.2944" x2="350.2944" y1="989.3613" y2="1002.3613"/><line style="stroke:#181818;stroke-width:1;" x1="309.2944" x2="350.2944" y1="1002.3613" y2="1002.3613"/><polygon fill="#181818" points="319.2944,998.3613,309.2944,1002.3613,319.2944,1006.3613,315.2944,1002.3613" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.27" x="315.2944" y="984.6191">Caps Settlement Amount at Margin Buffer Level</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1027.6719,1039.9155,1031.6719,1029.9155,1035.6719,1033.9155,1031.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="1031.6719" y2="1031.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="315.2944" y="1026.9297">emit SettlementDetermined</text></g><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,1056.9824,854.5684,1060.9824,844.5684,1064.9824,848.5684,1060.9824" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.2944" x2="850.5684" y1="1060.9824" y2="1060.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="310.2944" y="1056.2402">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="330.2197" y="1056.2402">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372.2393" x="467.3291" y="1056.2402">' transfer settlement amount from net payer to net receiver</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1089.6377"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1089.6377" y2="1089.6377"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1092.6377" y2="1092.6377"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.0601" x="566.6211" y="1078.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="572.6211" y="1095.5508">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.0908" x="652.0938" y="1095.5508">inTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="722.1846" y="1095.5508">'</text><path d="M168.2925,1119.293 L230.4312,1119.293 L230.4312,1126.6035 L220.4312,1136.6035 L168.2925,1136.6035 L168.2925,1119.293" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="559.5684" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1119.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="183.2925" y="1132.8613">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94.6064" x="245.4312" y="1131.9277">[Transfer Check]</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1162.6035" y2="1162.6035"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="173.2925" y="1173.2383">[success]</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1193.8691,1039.9155,1197.8691,1029.9155,1201.8691,1033.9155,1197.8691" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="866.5684" x2="1035.9155" y1="1197.8691" y2="1197.8691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="873.5684" y="1193.127">emit TransferSucceeded</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1223.1797,309.2944,1227.1797,319.2944,1231.1797,315.2944,1227.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1227.1797" y2="1227.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1222.4375">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1222.4375">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1222.4375">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1277.4902,1039.9155,1281.4902,1029.9155,1285.4902,1033.9155,1281.4902" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="1281.4902" y2="1281.4902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.8706" x="310.2944" y="1276.748">emit SettlementSucceeded</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1310.1455"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1310.1455" y2="1310.1455"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1313.1455" y2="1313.1455"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="578.6467" y="1299.4902"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="584.6467" y="1316.0586">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="664.1194" y="1316.0586">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="710.1589" y="1316.0586">'</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#FFFFFF" points="1029.9155,1334.8008,1039.9155,1338.8008,1029.9155,1342.8008,1033.9155,1338.8008" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="866.5684" x2="1035.9155" y1="1338.8008" y2="1338.8008"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1347.8008" y2="1347.8008"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="173.2925" y="1358.4355">[fail]</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1379.0664,1039.9155,1383.0664,1029.9155,1387.0664,1033.9155,1383.0664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="866.5684" x2="1035.9155" y1="1383.0664" y2="1383.0664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9575" x="873.5684" y="1378.3242">emit TransferFailed</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1408.377,309.2944,1412.377,319.2944,1416.377,315.2944,1412.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1412.377" y2="1412.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1407.6348">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1407.6348">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1407.6348">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1462.6875,1039.9155,1466.6875,1029.9155,1470.6875,1033.9155,1466.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="1466.6875" y2="1466.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.481" x="315.2944" y="1461.9453">emit SettlementFailed</text></g><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,1537.9297,854.5684,1541.9297,844.5684,1545.9297,848.5684,1541.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="850.5684" y1="1541.9297" y2="1541.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="315.2944" y="1491.2559">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="335.2197" y="1491.2559">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="508.8853" y="1491.2559">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="315.2944" y="1506.5664">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="315.2944" y="1521.877">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="315.2944" y="1537.1875">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1567.2402,1039.9155,1571.2402,1029.9155,1575.2402,1033.9155,1571.2402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="1571.2402" y2="1571.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="310.2944" y="1566.498">emit TradeTerminated</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1596.5508,309.2944,1600.5508,319.2944,1604.5508,315.2944,1600.5508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1600.5508" y2="1600.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1595.8086">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1595.8086">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1595.8086">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="350.2944" y1="1619.5508" y2="1619.5508"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="350.2944" x2="350.2944" y1="1619.5508" y2="1632.5508"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="350.2944" y1="1632.5508" y2="1632.5508"/><polygon fill="#181818" points="313.2944,1628.5508,303.2944,1632.5508,313.2944,1636.5508,309.2944,1632.5508" style="stroke:#181818;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="294.2944" x2="312.2944" y1="1618.5508" y2="1636.5508"/><line style="stroke:#A80036;stroke-width:2;" x1="294.2944" x2="312.2944" y1="1636.5508" y2="1618.5508"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1656.2061"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1656.2061" y2="1656.2061"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1659.2061" y2="1659.2061"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="563.1616" y="1645.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="569.1616" y="1662.1191">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="648.6343" y="1662.1191">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="725.644" y="1662.1191">'</text><path d="M168.2925,1692.8613 L230.4312,1692.8613 L230.4312,1700.1719 L220.4312,1710.1719 L168.2925,1710.1719 L168.2925,1692.8613" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="352.3262" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1692.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="183.2925" y="1706.4297">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220.1235" x="245.4312" y="1705.4961">[Next Settlement Pre-Condition Check]</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1727.4824,309.2944,1731.4824,319.2944,1735.4824,315.2944,1731.4824" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="1040.9155" y1="1731.4824" y2="1731.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="325.2944" y="1726.7402">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.2827" x="345.2197" y="1726.7402">afterSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7051" x="448.5024" y="1726.7402">' optional time trigger to perform checks (e.g. pre-funding check)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="350.2944" y1="1760.793" y2="1760.793"/><line style="stroke:#181818;stroke-width:1;" x1="350.2944" x2="350.2944" y1="1760.793" y2="1773.793"/><line style="stroke:#181818;stroke-width:1;" x1="309.2944" x2="350.2944" y1="1773.793" y2="1773.793"/><polygon fill="#181818" points="319.2944,1769.793,309.2944,1773.793,319.2944,1777.793,315.2944,1773.793" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5576" x="315.2944" y="1756.0508">check pre-conditions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1782.793" y2="1782.793"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="173.2925" y="1793.4277">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1814.0586,1039.9155,1818.0586,1029.9155,1822.0586,1033.9155,1818.0586" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="1818.0586" y2="1818.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="315.2944" y="1813.3164">emit SettlementAwaitingInitiation</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1827.0586" y2="1827.0586"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="173.2925" y="1837.6934">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,1904.2559,854.5684,1908.2559,844.5684,1912.2559,848.5684,1908.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="850.5684" y1="1908.2559" y2="1908.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="315.2944" y="1857.582">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="335.2197" y="1857.582">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="508.8853" y="1857.582">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="315.2944" y="1872.8926">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="315.2944" y="1888.2031">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="315.2944" y="1903.5137">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1933.5664,1039.9155,1937.5664,1029.9155,1941.5664,1033.9155,1937.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="1937.5664" y2="1937.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="310.2944" y="1932.8242">emit TradeTerminated</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1962.877,309.2944,1966.877,319.2944,1970.877,315.2944,1966.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1966.877" y2="1966.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1962.1348">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1962.1348">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1962.1348">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="350.2944" y1="1980.877" y2="1980.877"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="350.2944" x2="350.2944" y1="1980.877" y2="1993.877"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="309.2944" x2="350.2944" y1="1993.877" y2="1993.877"/><polygon fill="#181818" points="319.2944,1989.877,309.2944,1993.877,319.2944,1997.877,315.2944,1993.877" style="stroke:#181818;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="294.2944" x2="312.2944" y1="1984.877" y2="2002.877"/><line style="stroke:#A80036;stroke-width:2;" x1="294.2944" x2="312.2944" y1="2002.877" y2="1984.877"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="2022.5322"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="2022.5322" y2="2022.5322"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="2025.5322" y2="2025.5322"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="563.1616" y="2011.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="569.1616" y="2028.4453">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="648.6343" y="2028.4453">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="725.644" y="2028.4453">'</text><!--SRC=[xLPBRzj643wNlsBW79G8fHsxG148i05PZb03JI5ORYzf3YjoA2rCBjdTbH8L_l6TsULRj2CZXpvG7MoIEuzlljblTaSRQmipEJihKg7iDajFepmxC_Z75bM4OIp5MeiiiDAc2CjCQ7k3Mkw4bJkSvSfg4Lbu_Vvk5lvuVl73crFuJMX9aU2pj1jOeYM_39KDx_C7L21K37cIXD56I4MswPOYvOeCzKv660GKBjSmMvpNJnT1K51Q6Sc2uovlPl0n0FgDn_Gy7iF4lONqSmyd9xVq_NkudPgzYkwrK2P1FHDfkXBHmyb9yAaNiCRe8TR1kzy74tLI78P-loFldwZc57LdeIwyNJUpYbsVKVsvXwQnVoPKoMBrGaIkTRuju5P9AqKg_qGWx346P0ZXLI_518YoF6BVbQ3D4Q4XmulZ31lSrAvNxzw-UpkVLsbkPXEmNs0q7iTOfFb-F1w1S8PkprY_KU9Oep51swd_yq4a9IoiAuGY1G6PXk5LcyO9O2Qjh_NMMMCS19UN_ilICauAL2qndilB8CPs4O5hETNVAI3ALI9rLYSVB9iT6PHtt17nCPjOTg8d4TGMJyEU-KI3kEkr4dWLZcY3WrPvtBRSijV2HfkfYYjrS8JVLGZLEf3WroJKrJQXD-FaQr5dKddP9eY66kQobHs3nElNsH9V7Aw9bnVi9rBujKWqZG-O8m8zPR0GUwdM7EmE8vGxVbcGPFQkd5up-DDJqe1NypapxvZgKILL9TOELzq0PQEYafEICf5GuItl0rWzWNOXjhQ3MtbyV3oYwzFIdxh-l7MJVFfPaBZLsckSoHxYZwXPw9o4QcfgV8Xw3w6Yf6cU5poGzBwLeLB2UQs4YQVM9SJ6i29fc8M3RLmFiXB2GB6zMk_ub39Cpr29RS_mgZyc9w2zDmkoF8IS6Fk6VRursgrMVQzUjiu6gaHNe2PjPCSIL8-CcIXCgsgOPlcM_WaB7xmwhvqwuMVSOVhC_6j2tA0NCM-iPZezFofwKw9Mj6c02G_CoLcXXKBioO0KpI_QgPhEj6-HyzVKB5Ad78ziji7eeP5RWAb1CDk8j_sWxfyIeWktP4UCcRBl_ea3emdNGdf0MLVbGx8PmOPh246gdJHoHTU-5RKr5ZG4UBJR3LOmg-7If-CZjMp-gOlIivy8cPQpxAlzVd67vXJyNz2U1kOHgXiue3ldy-5OSEfZVDV-BZPmedOYtBUEy_emVe7_7QOegBKQCxhIiqrr2MHFT-b5yuAEFtiWLc2hmTNRl7z7vprWpbD1CbRd-tgk7PwyFKasDPMgT4Ul6sM_u9Vspe65nf1kUx5qtVBpZNCC73wjKZi7JdC3ipBZIwXSh_sGBeydY3YiWTTukZw5WZ8cf7xkgrju4np1nnLutjd1XOWgqAOxXR_XLjCUAFzBwRycfRwIZfOD__qB]--></g></svg>