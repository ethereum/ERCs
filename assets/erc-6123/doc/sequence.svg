<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2150px" preserveAspectRatio="none" style="width:1383px;height:2150px;background:#FFFFFF;" version="1.1" viewBox="0 0 1383 2150" width="1383px" zoomAndPan="magnify"><title>SmartDerivativeContract (ERC-6123). Variant with Settlement-Token and off-chain Valuation Service</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="730.0371" x="322.5239" y="28.5352">SmartDerivativeContract (ERC-6123). Variant with Settlement-Token and off-chain Valuation Service</text><g><title>Counterparty 1</title><rect fill="#FFFFFF" height="1930.2109" style="stroke:#181818;stroke-width:1;" width="10" x="69.2661" y="128.9766"/></g><g><title>Counterparty 2</title><rect fill="#FFFFFF" height="1930.2109" style="stroke:#181818;stroke-width:1;" width="10" x="187.7983" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="233.2188"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="174.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="364.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="83.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="611.9453"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="799.498"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="100.9316" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="960.0508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1227.1797"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="158.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1412.377"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1600.5508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="206.084" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1731.4824"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1966.877"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="539.3242"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="166.1973" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1060.9824"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1338.8008"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1541.9297"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1908.2559"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1930.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1120.6875" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1290.4468" y="901.4297"/></g><rect fill="none" height="567.5898" style="stroke:#000000;stroke-width:1.5;" width="1177.5142" x="10" y="135.9766"/><rect fill="none" height="1334.6211" style="stroke:#000000;stroke-width:1.5;" width="1356.085" x="10" y="717.5664"/><rect fill="none" height="559.5684" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="247.0645" y="1119.293"/><rect fill="none" height="352.3262" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="247.0645" y="1692.8613"/><g><title>Counterparty 1</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="70.2661" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="118.9766" y2="2069.1875"/></g><g><title>Counterparty 2</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="188.7983" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="192.5322" x2="192.5322" y1="118.9766" y2="2069.1875"/></g><g><title>**SDC** :</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="378.0664" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="382.0645" x2="382.0645" y1="118.9766" y2="2069.1875"/></g><g><title>**SettlementToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="936.3403" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="940.0059" x2="940.0059" y1="118.9766" y2="2069.1875"/></g><g><title>EventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="1121.6875" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1124.8608" x2="1124.8608" y1="118.9766" y2="2069.1875"/></g><g><title>ValuationOracle</title><rect fill="#000000" fill-opacity="0.00000" height="1950.2109" width="8" x="1291.4468" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1294.8086" x2="1294.8086" y1="118.9766" y2="2069.1875"/></g><g class="participant participant-head" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="20" y="116.0234">Counterparty 1</text><ellipse cx="74.2661" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74.2661,58.9883 L74.2661,85.9883 M61.2661,66.9883 L87.2661,66.9883 M74.2661,85.9883 L61.2661,100.9883 M74.2661,85.9883 L87.2661,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="20" y="2081.7227">Counterparty 1</text><ellipse cx="74.2661" cy="2093.1758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74.2661,2101.1758 L74.2661,2128.1758 M61.2661,2109.1758 L87.2661,2109.1758 M74.2661,2128.1758 L61.2661,2143.1758 M74.2661,2128.1758 L87.2661,2143.1758" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="138.5322" y="116.0234">Counterparty 2</text><ellipse cx="192.7983" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M192.7983,58.9883 L192.7983,85.9883 M179.7983,66.9883 L205.7983,66.9883 M192.7983,85.9883 L179.7983,100.9883 M192.7983,85.9883 L205.7983,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5322" x="138.5322" y="2081.7227">Counterparty 2</text><ellipse cx="192.7983" cy="2093.1758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M192.7983,2101.1758 L192.7983,2128.1758 M179.7983,2109.1758 L205.7983,2109.1758 M192.7983,2128.1758 L179.7983,2143.1758 M192.7983,2128.1758 L205.7983,2143.1758" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="257.0645" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="363.1001" y="81.7266">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="396.603" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="257.0645" x2="507.0684" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="264.0645" y="107.6748">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-tail" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="257.0645" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="363.1001" y="2088.7227">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="396.603" y="2088.7227">:</text><line style="stroke:#181818;stroke-width:1;" x1="257.0645" x2="507.0684" y1="2096.6758" y2="2096.6758"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="264.0645" y="2114.6709">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-head" data-participant="SettlementToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.6689" x="868.0059" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.8096" x="875.0059" y="81.7266">SettlementToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1001.2451" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="868.0059" x2="1012.6748" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="881.3394" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="SettlementToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.6689" x="868.0059" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.8096" x="875.0059" y="2088.7227">SettlementToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1001.2451" y="2088.7227">:</text><line style="stroke:#181818;stroke-width:1;" x1="868.0059" x2="1012.6748" y1="2096.6758" y2="2096.6758"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="881.3394" y="2114.6709">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="1073.8608" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="1080.8608" y="108.0234">EventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="1073.8608" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="1080.8608" y="2088.7227">EventHandler</text></g><g class="participant participant-head" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1234.8086" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1241.8086" y="108.0234">ValuationOracle</text></g><g class="participant participant-tail" data-participant="ValuationOracle"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2764" x="1234.8086" y="2068.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2764" x="1241.8086" y="2088.7227">ValuationOracle</text></g><g><title>Counterparty 1</title><rect fill="#FFFFFF" height="1930.2109" style="stroke:#181818;stroke-width:1;" width="10" x="69.2661" y="128.9766"/></g><g><title>Counterparty 2</title><rect fill="#FFFFFF" height="1930.2109" style="stroke:#181818;stroke-width:1;" width="10" x="187.7983" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="233.2188"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="174.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="364.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="83.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="611.9453"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="799.498"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="100.9316" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="960.0508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1227.1797"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="158.8633" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1412.377"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1600.5508"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="206.084" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1731.4824"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="20" style="stroke:#181818;stroke-width:1;" width="10" x="377.0664" y="1966.877"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="539.3242"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="166.1973" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1060.9824"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1338.8008"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1541.9297"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="935.3403" y="1908.2559"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1930.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1120.6875" y="128.9766"/></g><g><title>ValuationOracle</title><rect fill="#C0C000" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1290.4468" y="901.4297"/></g><path d="M10,135.9766 L156.0039,135.9766 L156.0039,143.2871 L146.0039,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="567.5898" style="stroke:#000000;stroke-width:1.5;" width="1177.5142" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.0039" x="25" y="149.5449">Initialize Trade</text><g class="message" data-participant-1="CP1" data-participant-2="SettlementToken"><polygon fill="#181818" points="928.3403,170.5977,938.3403,174.5977,928.3403,178.5977,932.3403,174.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2661" x2="934.3403" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6309" x="86.2661" y="169.8555">allocate balances</text></g><g class="message" data-participant-1="CP2" data-participant-2="SettlementToken"><polygon fill="#181818" points="928.3403,199.9082,938.3403,203.9082,928.3403,207.9082,932.3403,203.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.7983" x2="934.3403" y1="203.9082" y2="203.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6309" x="204.7983" y="199.166">allocate balances</text></g><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="365.0664,229.2188,375.0664,233.2188,365.0664,237.2188,369.0664,233.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2661" x2="371.0664" y1="233.2188" y2="233.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="86.2661" y="228.4766">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44.9541" x="106.1914" y="228.4766">deploy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.2764" x="151.1455" y="228.4766">' a SDC with token address</text></g><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="365.0664,258.5293,375.0664,262.5293,365.0664,266.5293,369.0664,262.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2661" x2="371.0664" y1="262.5293" y2="262.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="86.2661" y="257.7871">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.936" x="106.1914" y="257.7871">inceptTrade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="186.1274" y="257.7871">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,287.8398,1118.6875,291.8398,1108.6875,295.8398,1112.6875,291.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1114.6875" y1="291.8398" y2="291.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.4399" x="389.0664" y="287.0977">emit TradeIncepted</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="320.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="320.4951" y2="320.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="323.4951" y2="323.4951"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="158.4663" x="608.8093" y="309.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="614.8093" y="326.4082">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="57.4971" x="694.282" y="326.4082">Incepted</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="751.7791" y="326.4082">'</text><g class="message" data-participant-1="CP2" data-participant-2="SDC"><polygon fill="#181818" points="365.0664,360.4609,375.0664,364.4609,365.0664,368.4609,369.0664,364.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.7983" x2="371.0664" y1="364.4609" y2="364.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="204.7983" y="359.7188">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90.6445" x="224.7236" y="359.7188">confirmTrade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="315.3682" y="359.7188">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="393.7715" y2="393.7715"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="393.7715" y2="406.7715"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="406.7715" y2="406.7715"/><polygon fill="#181818" points="398.0664,402.7715,388.0664,406.7715,398.0664,410.7715,394.0664,406.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.1914" x="394.0664" y="389.0293">validate tradedata</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,432.082,1118.6875,436.082,1108.6875,440.082,1112.6875,436.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1114.6875" y1="436.082" y2="436.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7227" x="394.0664" y="431.3398">emit TradeConfirmed</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="464.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="464.7373" y2="464.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="467.7373" y2="467.7373"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.4346" x="602.3252" y="454.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="608.3252" y="470.6504">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.4653" x="687.7979" y="470.6504">Confirmed</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="758.2632" y="470.6504">'</text><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="923.3403,535.3242,933.3403,539.3242,923.3403,543.3242,927.3403,539.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="929.3403" y1="539.3242" y2="539.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="503.9609">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="408.9917" y="503.9609">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="582.6572" y="503.9609">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="500.7729" x="389.0664" y="519.2715">- transfer margin buffers and termination fees to SDC address for CP1 and CP2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394.7671" x="389.0664" y="534.582">-  transfer optional Upfront Fee from Paying to Receiving Party</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="567.9795"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="567.9795" y2="567.9795"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="570.9795" y2="570.9795"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.1426" x="602.4712" y="557.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="608.4712" y="573.8926">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.1733" x="687.9438" y="573.8926">InTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="758.1172" y="573.8926">'</text><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,607.9453,388.0664,611.9453,398.0664,615.9453,394.0664,611.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="939.3403" y1="611.9453" y2="611.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="607.2031">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="607.2031">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="607.2031">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,662.2559,1118.6875,666.2559,1108.6875,670.2559,1112.6875,666.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1114.6875" y1="666.2559" y2="666.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6992" x="394.0664" y="661.5137">emit TradeActivated</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,691.5664,1118.6875,695.5664,1108.6875,699.5664,1112.6875,695.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1114.6875" y1="695.5664" y2="695.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="389.0664" y="690.8242">emit SettlementAwaitingInitiation</text></g><path d="M10,717.5664 L84.4468,717.5664 L84.4468,724.877 L74.4468,734.877 L10,734.877 L10,717.5664" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1334.6211" style="stroke:#000000;stroke-width:1.5;" width="1356.085" x="10" y="717.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="731.1348">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2324" x="99.4468" y="730.2012">[Every Settlement]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="755.5322"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="755.5322" y2="755.5322"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="758.5322" y2="758.5322"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="614.5381" y="744.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="620.5381" y="761.4453">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="700.0107" y="761.4453">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="746.0503" y="761.4453">'</text><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="365.0664,795.498,375.0664,799.498,365.0664,803.498,369.0664,799.498" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2661" x2="371.0664" y1="799.498" y2="799.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.0386" x="86.2661" y="794.7559">tx: '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.4727" x="110.3047" y="794.7559">initiateSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="228.7773" y="794.7559">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="828.1533"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="828.1533" y2="828.1533"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="831.1533" y2="831.1533"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="164.4395" x="605.8228" y="817.498"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="611.8228" y="834.0664">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.4702" x="691.2954" y="834.0664">Valuation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="754.7656" y="834.0664">'</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,868.1191,1118.6875,872.1191,1108.6875,876.1191,1112.6875,872.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1114.6875" y1="872.1191" y2="872.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="389.0664" y="867.377">emit SettlementRequested</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ValuationOracle"><polygon fill="#181818" points="1278.4468,897.4297,1288.4468,901.4297,1278.4468,905.4297,1282.4468,901.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1130.6875" x2="1284.4468" y1="901.4297" y2="901.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.7593" x="1137.6875" y="896.6875">request valuation data</text></g><g class="message" data-participant-1="ValuationOracle" data-participant-2="EventHandler"><polygon fill="#181818" points="1141.6875,926.7402,1131.6875,930.7402,1141.6875,934.7402,1137.6875,930.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1135.6875" x2="1294.4468" y1="930.7402" y2="930.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0947" x="1147.6875" y="925.998">return valuation data</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,956.0508,388.0664,960.0508,398.0664,964.0508,394.0664,960.0508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="1119.6875" y1="960.0508" y2="960.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.1235" x="404.0664" y="955.3086">callback: tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.8042" x="483.1899" y="955.3086">performSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="608.9941" y="955.3086">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="989.3613" y2="989.3613"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="989.3613" y2="1002.3613"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="1002.3613" y2="1002.3613"/><polygon fill="#181818" points="398.0664,998.3613,388.0664,1002.3613,398.0664,1006.3613,394.0664,1002.3613" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.27" x="394.0664" y="984.6191">Caps Settlement Amount at Margin Buffer Level</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1027.6719,1118.6875,1031.6719,1108.6875,1035.6719,1112.6875,1031.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1114.6875" y1="1031.6719" y2="1031.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="394.0664" y="1026.9297">emit SettlementDetermined</text></g><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="923.3403,1056.9824,933.3403,1060.9824,923.3403,1064.9824,927.3403,1060.9824" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="382.0664" x2="929.3403" y1="1060.9824" y2="1060.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="389.0664" y="1056.2402">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="408.9917" y="1056.2402">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372.2393" x="546.1011" y="1056.2402">' transfer settlement amount from net payer to net receiver</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="1089.6377"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="1089.6377" y2="1089.6377"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="1092.6377" y2="1092.6377"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.1426" x="602.4712" y="1078.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="608.4712" y="1095.5508">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.1733" x="687.9438" y="1095.5508">InTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="758.1172" y="1095.5508">'</text><path d="M247.0645,1119.293 L309.2031,1119.293 L309.2031,1126.6035 L299.2031,1136.6035 L247.0645,1136.6035 L247.0645,1119.293" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="559.5684" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="247.0645" y="1119.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="262.0645" y="1132.8613">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94.6064" x="324.2031" y="1131.9277">[Transfer Check]</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1187.5142" y1="1162.6035" y2="1162.6035"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="252.0645" y="1173.2383">[success]</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1193.8691,1118.6875,1197.8691,1108.6875,1201.8691,1112.6875,1197.8691" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="945.3403" x2="1114.6875" y1="1197.8691" y2="1197.8691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="952.3403" y="1193.127">emit TransferSucceeded</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1223.1797,388.0664,1227.1797,398.0664,1231.1797,394.0664,1227.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="939.3403" y1="1227.1797" y2="1227.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1222.4375">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1222.4375">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1222.4375">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1277.4902,1118.6875,1281.4902,1108.6875,1285.4902,1112.6875,1281.4902" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1114.6875" y1="1281.4902" y2="1281.4902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.8706" x="389.0664" y="1276.748">emit SettlementSucceeded</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="1310.1455"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="1310.1455" y2="1310.1455"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="1313.1455" y2="1313.1455"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="614.5381" y="1299.4902"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="620.5381" y="1316.0586">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="700.0107" y="1316.0586">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="746.0503" y="1316.0586">'</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#FFFFFF" points="1108.6875,1334.8008,1118.6875,1338.8008,1108.6875,1342.8008,1112.6875,1338.8008" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="945.3403" x2="1114.6875" y1="1338.8008" y2="1338.8008"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1187.5142" y1="1347.8008" y2="1347.8008"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="252.0645" y="1358.4355">[fail]</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1379.0664,1118.6875,1383.0664,1108.6875,1387.0664,1112.6875,1383.0664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="945.3403" x2="1114.6875" y1="1383.0664" y2="1383.0664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9575" x="952.3403" y="1378.3242">emit TransferFailed</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1408.377,388.0664,1412.377,398.0664,1416.377,394.0664,1412.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="939.3403" y1="1412.377" y2="1412.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1407.6348">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1407.6348">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1407.6348">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1462.6875,1118.6875,1466.6875,1108.6875,1470.6875,1112.6875,1466.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1114.6875" y1="1466.6875" y2="1466.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.481" x="394.0664" y="1461.9453">emit SettlementFailed</text></g><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="923.3403,1537.9297,933.3403,1541.9297,923.3403,1545.9297,927.3403,1541.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="929.3403" y1="1541.9297" y2="1541.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="394.0664" y="1491.2559">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="413.9917" y="1491.2559">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="587.6572" y="1491.2559">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="394.0664" y="1506.5664">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="394.0664" y="1521.877">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="394.0664" y="1537.1875">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1567.2402,1118.6875,1571.2402,1108.6875,1575.2402,1112.6875,1571.2402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1114.6875" y1="1571.2402" y2="1571.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="389.0664" y="1566.498">emit TradeTerminated</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1596.5508,388.0664,1600.5508,398.0664,1604.5508,394.0664,1600.5508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="939.3403" y1="1600.5508" y2="1600.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1595.8086">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1595.8086">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1595.8086">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="429.0664" y1="1619.5508" y2="1619.5508"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="429.0664" x2="429.0664" y1="1619.5508" y2="1632.5508"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="429.0664" y1="1632.5508" y2="1632.5508"/><polygon fill="#181818" points="392.0664,1628.5508,382.0664,1632.5508,392.0664,1636.5508,388.0664,1632.5508" style="stroke:#181818;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1618.5508" y2="1636.5508"/><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1636.5508" y2="1618.5508"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="1656.2061"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="1656.2061" y2="1656.2061"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="1659.2061" y2="1659.2061"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="599.053" y="1645.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="605.053" y="1662.1191">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="684.5256" y="1662.1191">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="761.5354" y="1662.1191">'</text><path d="M247.0645,1692.8613 L309.2031,1692.8613 L309.2031,1700.1719 L299.2031,1710.1719 L247.0645,1710.1719 L247.0645,1692.8613" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="352.3262" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="247.0645" y="1692.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="262.0645" y="1706.4297">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220.1235" x="324.2031" y="1705.4961">[Next Settlement Pre-Condition Check]</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1727.4824,388.0664,1731.4824,398.0664,1735.4824,394.0664,1731.4824" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="1119.6875" y1="1731.4824" y2="1731.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="404.0664" y="1726.7402">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.2827" x="423.9917" y="1726.7402">afterSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7051" x="527.2744" y="1726.7402">' optional time trigger to perform checks (e.g. pre-funding check)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="429.0664" y1="1760.793" y2="1760.793"/><line style="stroke:#181818;stroke-width:1;" x1="429.0664" x2="429.0664" y1="1760.793" y2="1773.793"/><line style="stroke:#181818;stroke-width:1;" x1="388.0664" x2="429.0664" y1="1773.793" y2="1773.793"/><polygon fill="#181818" points="398.0664,1769.793,388.0664,1773.793,398.0664,1777.793,394.0664,1773.793" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5576" x="394.0664" y="1756.0508">check pre-conditions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1187.5142" y1="1782.793" y2="1782.793"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="252.0645" y="1793.4277">[success]</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1814.0586,1118.6875,1818.0586,1108.6875,1822.0586,1112.6875,1818.0586" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="1114.6875" y1="1818.0586" y2="1818.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1519" x="394.0664" y="1813.3164">emit SettlementAwaitingInitiation</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="247.0645" x2="1187.5142" y1="1827.0586" y2="1827.0586"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="252.0645" y="1837.6934">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="923.3403,1904.2559,933.3403,1908.2559,923.3403,1912.2559,927.3403,1908.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="387.0664" x2="929.3403" y1="1908.2559" y2="1908.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="394.0664" y="1857.582">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="413.9917" y="1857.582">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="587.6572" y="1857.582">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="394.0664" y="1872.8926">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="394.0664" y="1888.2031">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="394.0664" y="1903.5137">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1108.6875,1933.5664,1118.6875,1937.5664,1108.6875,1941.5664,1112.6875,1937.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="382.0664" x2="1114.6875" y1="1937.5664" y2="1937.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="389.0664" y="1932.8242">emit TradeTerminated</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="398.0664,1962.877,388.0664,1966.877,398.0664,1970.877,394.0664,1966.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.0664" x2="939.3403" y1="1966.877" y2="1966.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="404.0664" y="1962.1348">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="479.0767" y="1962.1348">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="568.2295" y="1962.1348">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.0664" x2="429.0664" y1="1980.877" y2="1980.877"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="429.0664" x2="429.0664" y1="1980.877" y2="1993.877"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="388.0664" x2="429.0664" y1="1993.877" y2="1993.877"/><polygon fill="#181818" points="398.0664,1989.877,388.0664,1993.877,398.0664,1997.877,394.0664,1993.877" style="stroke:#181818;stroke-width:1;"/></g><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="1984.877" y2="2002.877"/><line style="stroke:#A80036;stroke-width:2;" x1="373.0664" x2="391.0664" y1="2002.877" y2="1984.877"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1376.085" x="0" y="2022.5322"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="2022.5322" y2="2022.5322"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1376.085" y1="2025.5322" y2="2025.5322"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="599.053" y="2011.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="605.053" y="2028.4453">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="684.5256" y="2028.4453">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="761.5354" y="2028.4453">'</text><!--SRC=[xLTBR-Cs43vNlsBW7B9hL8dZ0iN2G08uoXeDq4SGfxrizq1B8vk8HAaKxLqN-V6T8VMsDd6mXpvG7Go9v7mpdE7t3NswCIOlPkVdUIAKsQR9MPYbvmN-iKKLeXz9iTOYzOmq2S8o5ThSe9OxOUGEWqmPBK83RzxV1_xt5zFltfx1Rq9BGe9FqcnWYORiKbJ6VyWUKO5G4MHnx8SR8HMjJRQ4b2bQg7SoHCyZk4p3ACYsog3EoTyUBaOW2WZkBWPdf-NirFDuG8OoP__Bcm0-U43FU4plup7Cx9TFZtqPZMvf_5kudHTx5JveeOeOTI2IP2N2nz78-zW3hFVYjbA3TyS77NLS74A_tv7r3vIR17LdeaxGBvJdnAM7auzTatgqp57rGIbPwsoRmwsIHef4_eb0KKJeqKBmhtgXpu0sduLikn9q748iQE7qk8KLv4qm0_CPJiVZ2FCasu_7fo1iDUo9CEuOH976ecXYvVcJTvDtayMYWzH_7B8aZxcnEo5upwEbld_LJiaCC9N6RVRMhiR8youltSZIi4y2ggOuoCjBBy9sG9wj7YMWiwimKx7KQUryS0jio44vmnrbFk8bXeteJNZrYY-77JX7Wt7NSsNW5Hob3GvgvU8svUcx5YRSp5LK7NH6-5tvKCq3SNnDt5njO_egB6E9QwbKZganOa5LjDxACa9CfEIYyLhA5yCrU5dETYA1N_DOasB00X7eBOKxiPTgpM3t6ABSySSTSzfkfrSC7ce6UbmyMImuypPJ1oMkUDV9LHUWB5HOvgHCcOXfuothWx2w8BqGsoUQPvwUdewe-hoqfwe_lxfnFlyaYDrgxKZEoHxAduUAC9CioraxzBu5C730t6JdU561QoBC70kjFso0gXmD9-70IQrkfPk1lVQsUizzgU3i3EsGnzhM_bLFFsUW7G1JikmybewTe7j6S19CWibaOXVrvlgLqMYsMWsXjs8z4FLkp9sJMB4tHqqaIuzDTQqzWSYBLlvWddBh167W9qVpQqjp-15tc3mZf0t43Jeru1FQoDppcjEJcreQYYOmuGApkg3GG2xsj82aWJ-qbGTgT5-Z2o_9WaWi1LramGR3nuQt7YO5Gh4DG-vQGmBo9KPRk2KROiGf- -QVg3mDN2lI5pHXY82diE4z-23LJXPoHUHPKLaZGNB3FS9ii0gpKgb-EZvGoHOVkr6wxCT29gKelbZlLrTeGU3_Wl8qOHx1ke5EtsdqXx9WsSVnNRjRtK1hxY0yjEu5TLT_XVqz9YYej1fJ-Zl0Qwhh95lQYp0MhwZuivsr2hOIhjxX_Jigxm9cFrL8XT7PljQrFhyEADdigMIbRV9Modx6p-sJ0tSQVResHj9Mo-dROSDiNNJjLZiDfxdA6PdoRLQkrqwao_O48SCMy0RFrcUGayUOsCzrjHDllIFoSGKkxsnW8S8gwAAhmbznFMeBolzK-gzHgS-aOsbZVre1T5fGQvp_P7S-fzvV]--></g></svg>