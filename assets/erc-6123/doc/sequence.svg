<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2037px" preserveAspectRatio="none" style="width:1311px;height:2037px;background:#FFFFFF;" version="1.1" viewBox="0 0 1311 2037" width="1311px" zoomAndPan="magnify"><title>SmartDerivativeContract (ERC-6123). Variant with Settlement-Token and off-chain Valuation Service</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="730.0371" x="286.6326" y="28.5352">SmartDerivativeContract (ERC-6123). Variant with Settlement-Token and off-chain Valuation Service</text><g><title>CP1</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="203.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="174.8633" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="364.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="611.9453"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="745.1875"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="100.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="905.7402"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1172.8691"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="188.1738" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1358.0664"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="201.7734" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1650.1719"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="66.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1881.2559"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="539.3242"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="166.1973" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1006.6719"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1284.4902"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1487.6191"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1822.6348"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="1041.9155" y="128.9766"/></g><g><title>ValuationService</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="1216.6748" y="128.9766"/></g><rect fill="none" height="556.5898" style="stroke:#000000;stroke-width:1.5;" width="1098.7422" x="10" y="135.9766"/><rect fill="none" height="1233" style="stroke:#000000;stroke-width:1.5;" width="1284.3022" x="10" y="706.5664"/><rect fill="none" height="532.5684" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1064.9824"/><rect fill="none" height="321.0156" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1611.5508"/><g><title>CP1</title><rect fill="#000000" fill-opacity="0.00000" height="1837.5898" width="8" x="32.1387" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="118.9766" y2="1956.5664"/></g><g><title>CP2</title><rect fill="#000000" fill-opacity="0.00000" height="1837.5898" width="8" x="74.416" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78.2773" x2="78.2773" y1="118.9766" y2="1956.5664"/></g><g><title>**SDC** :</title><rect fill="#000000" fill-opacity="0.00000" height="1837.5898" width="8" x="299.2944" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="303.2925" x2="303.2925" y1="118.9766" y2="1956.5664"/></g><g><title>**SettlementToken** :</title><rect fill="#000000" fill-opacity="0.00000" height="1837.5898" width="8" x="857.5684" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="861.2339" x2="861.2339" y1="118.9766" y2="1956.5664"/></g><g><title>EventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1837.5898" width="8" x="1042.9155" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1046.0889" x2="1046.0889" y1="118.9766" y2="1956.5664"/></g><g><title>ValuationService</title><rect fill="#000000" fill-opacity="0.00000" height="1837.5898" width="8" x="1217.6748" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1221.0474" x2="1221.0474" y1="118.9766" y2="1956.5664"/></g><g class="participant participant-head" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="116.0234">CP1</text><ellipse cx="36.1387" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,58.9883 L36.1387,85.9883 M23.1387,66.9883 L49.1387,66.9883 M36.1387,85.9883 L23.1387,100.9883 M36.1387,85.9883 L49.1387,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP1"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="20" y="1969.1016">CP1</text><ellipse cx="36.1387" cy="1980.5547" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.1387,1988.5547 L36.1387,2015.5547 M23.1387,1996.5547 L49.1387,1996.5547 M36.1387,2015.5547 L23.1387,2030.5547 M36.1387,2015.5547 L49.1387,2030.5547" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="116.0234">CP2</text><ellipse cx="78.416" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,58.9883 L78.416,85.9883 M65.416,66.9883 L91.416,66.9883 M78.416,85.9883 L65.416,100.9883 M78.416,85.9883 L91.416,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="CP2"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.2773" x="62.2773" y="1969.1016">CP2</text><ellipse cx="78.416" cy="1980.5547" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.416,1988.5547 L78.416,2015.5547 M65.416,1996.5547 L91.416,1996.5547 M78.416,2015.5547 L65.416,2030.5547 M78.416,2015.5547 L91.416,2030.5547" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="178.2925" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="284.3281" y="81.7266">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="317.8311" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="178.2925" x2="428.2964" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="185.2925" y="107.6748">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-tail" data-participant="SDC"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.0039" x="178.2925" y="1955.5664"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="29.0732" x="284.3281" y="1976.1016">SDC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="317.8311" y="1976.1016">:</text><line style="stroke:#181818;stroke-width:1;" x1="178.2925" x2="428.2964" y1="1984.0547" y2="1984.0547"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="236.0039" x="185.2925" y="2002.0498">ISDC,&#160;IAsyncTransferCallback</text></g><g class="participant participant-head" data-participant="SettlementToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.6689" x="789.2339" y="61.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.8096" x="796.2339" y="81.7266">SettlementToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="922.4731" y="81.7266">:</text><line style="stroke:#181818;stroke-width:1;" x1="789.2339" x2="933.9028" y1="89.6797" y2="89.6797"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="802.5674" y="107.6748">IAsyncTransfer</text></g><g class="participant participant-tail" data-participant="SettlementToken"><rect fill="#E2E2F0" height="56.7852" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.6689" x="789.2339" y="1955.5664"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.8096" x="796.2339" y="1976.1016">SettlementToken</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="922.4731" y="1976.1016">:</text><line style="stroke:#181818;stroke-width:1;" x1="789.2339" x2="933.9028" y1="1984.0547" y2="1984.0547"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="802.5674" y="2002.0498">IAsyncTransfer</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="995.0889" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="1002.0889" y="108.0234">EventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6533" x="995.0889" y="1955.5664"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.6533" x="1002.0889" y="1976.1016">EventHandler</text></g><g class="participant participant-head" data-participant="ValuationService"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2549" x="1159.0474" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2549" x="1166.0474" y="108.0234">ValuationService</text></g><g class="participant participant-tail" data-participant="ValuationService"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2549" x="1159.0474" y="1955.5664"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2549" x="1166.0474" y="1976.1016">ValuationService</text></g><g><title>CP1</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="31.1387" y="128.9766"/></g><g><title>CP2</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="73.416" y="128.9766"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="203.9082"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="174.8633" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="364.4609"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="611.9453"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="745.1875"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="100.9316" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="905.7402"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1172.8691"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="188.1738" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1358.0664"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="201.7734" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1650.1719"/></g><g><title>**SDC** :</title><rect fill="#8080FF" height="66.3105" style="stroke:#181818;stroke-width:1;" width="10" x="298.2944" y="1881.2559"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="539.3242"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="166.1973" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1006.6719"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="73.5762" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1284.4902"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1487.6191"/></g><g><title>**SettlementToken** :</title><rect fill="#FF8080" height="58.6211" style="stroke:#181818;stroke-width:1;" width="10" x="856.5684" y="1822.6348"/></g><g><title>EventHandler</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="1041.9155" y="128.9766"/></g><g><title>ValuationService</title><rect fill="#FFFFFF" height="1818.5898" style="stroke:#181818;stroke-width:1;" width="10" x="1216.6748" y="128.9766"/></g><path d="M10,135.9766 L156.0039,135.9766 L156.0039,143.2871 L146.0039,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="556.5898" style="stroke:#000000;stroke-width:1.5;" width="1098.7422" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.0039" x="25" y="149.5449">Initialize Trade</text><g class="message" data-participant-1="CP1" data-participant-2="SettlementToken"><polygon fill="#181818" points="849.5684,170.5977,859.5684,174.5977,849.5684,178.5977,853.5684,174.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="855.5684" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6309" x="48.1387" y="169.8555">allocate balances</text></g><g class="message" data-participant-1="CP2" data-participant-2="SettlementToken"><polygon fill="#181818" points="849.5684,199.9082,859.5684,203.9082,849.5684,207.9082,853.5684,203.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="83.416" x2="855.5684" y1="203.9082" y2="203.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6309" x="90.416" y="199.166">allocate balances</text></g><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,229.2188,296.2944,233.2188,286.2944,237.2188,290.2944,233.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="292.2944" y1="233.2188" y2="233.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="48.1387" y="228.4766">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44.9541" x="68.064" y="228.4766">deploy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.2764" x="113.0181" y="228.4766">' a SDC with token address</text></g><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,258.5293,296.2944,262.5293,286.2944,266.5293,290.2944,262.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="292.2944" y1="262.5293" y2="262.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="48.1387" y="257.7871">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.936" x="68.064" y="257.7871">inceptTrade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="148" y="257.7871">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,287.8398,1039.9155,291.8398,1029.9155,295.8398,1033.9155,291.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="291.8398" y2="291.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.4399" x="310.2944" y="287.0977">emit TradeIncepted</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="320.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="320.4951" y2="320.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="323.4951" y2="323.4951"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="158.4663" x="572.918" y="309.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="578.918" y="326.4082">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="57.4971" x="658.3906" y="326.4082">Incepted</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="715.8877" y="326.4082">'</text><g class="message" data-participant-1="CP2" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,360.4609,296.2944,364.4609,286.2944,368.4609,290.2944,364.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="83.416" x2="292.2944" y1="364.4609" y2="364.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="90.416" y="359.7188">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90.6445" x="110.3413" y="359.7188">confirmTrade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="200.9858" y="359.7188">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="350.2944" y1="393.7715" y2="393.7715"/><line style="stroke:#181818;stroke-width:1;" x1="350.2944" x2="350.2944" y1="393.7715" y2="406.7715"/><line style="stroke:#181818;stroke-width:1;" x1="309.2944" x2="350.2944" y1="406.7715" y2="406.7715"/><polygon fill="#181818" points="319.2944,402.7715,309.2944,406.7715,319.2944,410.7715,315.2944,406.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.1914" x="315.2944" y="389.0293">validate tradedata</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,432.082,1039.9155,436.082,1029.9155,440.082,1033.9155,436.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="436.082" y2="436.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7227" x="315.2944" y="431.3398">emit TradeConfirmed</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="464.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="464.7373" y2="464.7373"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="467.7373" y2="467.7373"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.4346" x="566.4338" y="454.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="572.4338" y="470.6504">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.4653" x="651.9065" y="470.6504">Confirmed</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="722.3718" y="470.6504">'</text><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,535.3242,854.5684,539.3242,844.5684,543.3242,848.5684,539.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.2944" x2="850.5684" y1="539.3242" y2="539.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="310.2944" y="503.9609">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="330.2197" y="503.9609">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="503.8853" y="503.9609">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="500.7729" x="310.2944" y="519.2715">- transfer margin buffers and termination fees to SDC address for CP1 and CP2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394.7671" x="310.2944" y="534.582">-  transfer optional Upfront Fee from Paying to Receiving Party</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="567.9795"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="567.9795" y2="567.9795"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="570.9795" y2="570.9795"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.0601" x="566.6211" y="557.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="572.6211" y="573.8926">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.0908" x="652.0938" y="573.8926">inTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="722.1846" y="573.8926">'</text><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,607.9453,309.2944,611.9453,319.2944,615.9453,315.2944,611.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="611.9453" y2="611.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="607.2031">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="607.2031">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="607.2031">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,637.2559,1039.9155,641.2559,1029.9155,645.2559,1033.9155,641.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="641.2559" y2="641.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6992" x="310.2944" y="636.5137">emit TradeActivated</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="669.9111"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="669.9111" y2="669.9111"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="672.9111" y2="672.9111"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="159.6787" x="572.3118" y="659.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92.1426" x="578.3118" y="675.8242">ProcessState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="670.4543" y="675.8242">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="716.4939" y="675.8242">'</text><path d="M10,706.5664 L84.4468,706.5664 L84.4468,713.877 L74.4468,723.877 L10,723.877 L10,706.5664" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1233" style="stroke:#000000;stroke-width:1.5;" width="1284.3022" x="10" y="706.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="720.1348">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2324" x="99.4468" y="719.2012">[Every Settlement]</text><g class="message" data-participant-1="CP1" data-participant-2="SDC"><polygon fill="#181818" points="286.2944,741.1875,296.2944,745.1875,286.2944,749.1875,290.2944,745.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.1387" x2="292.2944" y1="745.1875" y2="745.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.0386" x="48.1387" y="740.4453">tx: '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.4727" x="72.1772" y="740.4453">initiateSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="190.6499" y="740.4453">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="773.8428"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="773.8428" y2="773.8428"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="776.8428" y2="776.8428"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="164.4395" x="569.9314" y="763.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="575.9314" y="779.7559">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.4702" x="655.4041" y="779.7559">Valuation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="718.8743" y="779.7559">'</text><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,813.8086,1039.9155,817.8086,1029.9155,821.8086,1033.9155,817.8086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="817.8086" y2="817.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="310.2944" y="813.0664">emit SettlementRequested</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ValuationService"><polygon fill="#181818" points="1204.6748,843.1191,1214.6748,847.1191,1204.6748,851.1191,1208.6748,847.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1051.9155" x2="1210.6748" y1="847.1191" y2="847.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.7593" x="1058.9155" y="842.377">request valuation data</text></g><g class="message" data-participant-1="ValuationService" data-participant-2="EventHandler"><polygon fill="#181818" points="1062.9155,872.4297,1052.9155,876.4297,1062.9155,880.4297,1058.9155,876.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1056.9155" x2="1215.6748" y1="876.4297" y2="876.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0947" x="1068.9155" y="871.6875">return valuation data</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,901.7402,309.2944,905.7402,319.2944,909.7402,315.2944,905.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="1040.9155" y1="905.7402" y2="905.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.1235" x="325.2944" y="900.998">callback: tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.8042" x="404.418" y="900.998">performSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="530.2222" y="900.998">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="350.2944" y1="935.0508" y2="935.0508"/><line style="stroke:#181818;stroke-width:1;" x1="350.2944" x2="350.2944" y1="935.0508" y2="948.0508"/><line style="stroke:#181818;stroke-width:1;" x1="309.2944" x2="350.2944" y1="948.0508" y2="948.0508"/><polygon fill="#181818" points="319.2944,944.0508,309.2944,948.0508,319.2944,952.0508,315.2944,948.0508" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.27" x="315.2944" y="930.3086">Caps Settlement Amount at Margin Buffer Level</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,973.3613,1039.9155,977.3613,1029.9155,981.3613,1033.9155,977.3613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="977.3613" y2="977.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="315.2944" y="972.6191">emit SettlementDetermined</text></g><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,1002.6719,854.5684,1006.6719,844.5684,1010.6719,848.5684,1006.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.2944" x2="850.5684" y1="1006.6719" y2="1006.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="310.2944" y="1001.9297">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137.1094" x="330.2197" y="1001.9297">transferAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372.2393" x="467.3291" y="1001.9297">' transfer settlement amount from net payer to net receiver</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1035.3271"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1035.3271" y2="1035.3271"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1038.3271" y2="1038.3271"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="171.0601" x="566.6211" y="1024.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="572.6211" y="1041.2402">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.0908" x="652.0938" y="1041.2402">inTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="722.1846" y="1041.2402">'</text><path d="M168.2925,1064.9824 L230.4312,1064.9824 L230.4312,1072.293 L220.4312,1082.293 L168.2925,1082.293 L168.2925,1064.9824" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="532.5684" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1064.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="183.2925" y="1078.5508">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94.6064" x="245.4312" y="1077.6172">[Transfer Check]</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1108.293" y2="1108.293"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="173.2925" y="1118.9277">[success]</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1139.5586,1039.9155,1143.5586,1029.9155,1147.5586,1033.9155,1143.5586" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="866.5684" x2="1035.9155" y1="1143.5586" y2="1143.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="873.5684" y="1138.8164">emit TransferSucceeded</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1168.8691,309.2944,1172.8691,319.2944,1176.8691,315.2944,1172.8691" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1172.8691" y2="1172.8691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1168.127">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1168.127">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1168.127">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1223.1797,1039.9155,1227.1797,1029.9155,1231.1797,1033.9155,1227.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="1227.1797" y2="1227.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.8706" x="310.2944" y="1222.4375">emit SettlementSucceeded</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1255.835"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1255.835" y2="1255.835"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1258.835" y2="1258.835"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="147.0088" x="578.6467" y="1245.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="584.6467" y="1261.748">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="46.0396" x="664.1194" y="1261.748">Settled</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="710.1589" y="1261.748">'</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#FFFFFF" points="1029.9155,1280.4902,1039.9155,1284.4902,1029.9155,1288.4902,1033.9155,1284.4902" style="stroke:#FFFFFF;stroke-width:1;"/><line style="stroke:#FFFFFF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="866.5684" x2="1035.9155" y1="1284.4902" y2="1284.4902"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1293.4902" y2="1293.4902"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="173.2925" y="1304.125">[fail]</text><g class="message" data-participant-1="SettlementToken" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1324.7559,1039.9155,1328.7559,1029.9155,1332.7559,1033.9155,1328.7559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="866.5684" x2="1035.9155" y1="1328.7559" y2="1328.7559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9575" x="873.5684" y="1324.0137">emit TransferFailed</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1354.0664,309.2944,1358.0664,319.2944,1362.0664,315.2944,1358.0664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1358.0664" y2="1358.0664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1353.3242">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1353.3242">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1353.3242">'</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1408.377,1039.9155,1412.377,1029.9155,1416.377,1033.9155,1412.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="1412.377" y2="1412.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.481" x="315.2944" y="1407.6348">emit SettlementFailed</text></g><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,1483.6191,854.5684,1487.6191,844.5684,1491.6191,848.5684,1487.6191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="850.5684" y1="1487.6191" y2="1487.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="315.2944" y="1436.9453">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="335.2197" y="1436.9453">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="508.8853" y="1436.9453">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="315.2944" y="1452.2559">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="315.2944" y="1467.5664">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="315.2944" y="1482.877">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1512.9297,1039.9155,1516.9297,1029.9155,1520.9297,1033.9155,1516.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="308.2944" x2="1035.9155" y1="1516.9297" y2="1516.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="315.2944" y="1512.1875">emit TradeTerminated</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="314.2944,1542.2402,304.2944,1546.2402,314.2944,1550.2402,310.2944,1546.2402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="860.5684" y1="1546.2402" y2="1546.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="320.2944" y="1541.498">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="395.3047" y="1541.498">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="484.4575" y="1541.498">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1574.8955"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1574.8955" y2="1574.8955"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1577.8955" y2="1577.8955"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="563.1616" y="1564.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="569.1616" y="1580.8086">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="648.6343" y="1580.8086">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="725.644" y="1580.8086">'</text><path d="M168.2925,1611.5508 L230.4312,1611.5508 L230.4312,1618.8613 L220.4312,1628.8613 L168.2925,1628.8613 L168.2925,1611.5508" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="321.0156" style="stroke:#000000;stroke-width:1.5;" width="940.4497" x="168.2925" y="1611.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="183.2925" y="1625.1191">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220.1235" x="245.4312" y="1624.1855">[Next Settlement Pre-Condition Check]</text><g class="message" data-participant-1="EventHandler" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1646.1719,309.2944,1650.1719,319.2944,1654.1719,315.2944,1650.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="1040.9155" y1="1650.1719" y2="1650.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="325.2944" y="1645.4297">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.2827" x="345.2197" y="1645.4297">afterSettlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7051" x="448.5024" y="1645.4297">' optional time trigger to perform checks (e.g. pre-funding check)</text></g><g class="message" data-participant-1="SDC" data-participant-2="SDC"><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="350.2944" y1="1679.4824" y2="1679.4824"/><line style="stroke:#181818;stroke-width:1;" x1="350.2944" x2="350.2944" y1="1679.4824" y2="1692.4824"/><line style="stroke:#181818;stroke-width:1;" x1="309.2944" x2="350.2944" y1="1692.4824" y2="1692.4824"/><polygon fill="#181818" points="319.2944,1688.4824,309.2944,1692.4824,319.2944,1696.4824,315.2944,1692.4824" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5576" x="315.2944" y="1674.7402">check pre-conditions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1701.4824" y2="1701.4824"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.1909" x="173.2925" y="1712.1172">[success]</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="168.2925" x2="1108.7422" y1="1741.4375" y2="1741.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="26.3345" x="173.2925" y="1752.0723">[fail]</text><g class="message" data-participant-1="SDC" data-participant-2="SettlementToken"><polygon fill="#181818" points="844.5684,1818.6348,854.5684,1822.6348,844.5684,1826.6348,848.5684,1822.6348" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.2944" x2="850.5684" y1="1822.6348" y2="1822.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.9253" x="315.2944" y="1771.9609">tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.6655" x="335.2197" y="1771.9609">transferBatchAndCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="508.8853" y="1771.9609">'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.793" x="315.2944" y="1787.2715">- transfer Settlement Amount from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399.4771" x="315.2944" y="1802.582">- transfer Termination Fee from SDC Balance to Receiving Party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.6592" x="315.2944" y="1817.8926">- transfer Release remaining balances to parties</text></g><g class="message" data-participant-1="SDC" data-participant-2="EventHandler"><polygon fill="#181818" points="1029.9155,1847.9453,1039.9155,1851.9453,1029.9155,1855.9453,1033.9155,1851.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="303.2944" x2="1035.9155" y1="1851.9453" y2="1851.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4673" x="310.2944" y="1847.2031">emit TradeTerminated</text></g><g class="message" data-participant-1="SettlementToken" data-participant-2="SDC"><polygon fill="#181818" points="319.2944,1877.2559,309.2944,1881.2559,319.2944,1885.2559,315.2944,1881.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.2944" x2="860.5684" y1="1881.2559" y2="1881.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.0103" x="325.2944" y="1876.5137">callback tx '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.1528" x="400.3047" y="1876.5137">afterTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="2.9771" x="489.4575" y="1876.5137">'</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1304.3022" x="0" y="1909.9111"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1909.9111" y2="1909.9111"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1304.3022" y1="1912.9111" y2="1912.9111"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.979" x="563.1616" y="1899.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.4727" x="569.1616" y="1915.8242">TradeState '</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.0098" x="648.6343" y="1915.8242">Terminated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="3.2119" x="725.644" y="1915.8242">'</text><!--SRC=[xLPBRzj643wNlsBW79G8fHqxG108i05RZb03RI5ORYzf3YjoA2rCBjdTbH8L_l6TsULRj2eZQ8i2vK7YOnxVFBwP7QsjBSpaxAn8XRARB3sDykpCuEyRL166iHGhBRB0IfiYB3AXxIrgkHLMRd6QAwj5PE7rn_jf-FxyujsRK_XLQ4cMu8kqQrYW9RqCbGqVyaTK85GCUPA4qLf8HRBfXYpbYWJrLaOO16Gkrp2TdzTt5q5Ga5iPoOBjBcwdy2a0kiPZkX-FOUAUGhhSpSd97Rt_7kwkpKv53reeaw2UYZHTYkZnv2Jut3DOO_GGQ-FTzuEEEYxsJN_SalOF57EAklEX3hmTDsSLkpgZ-dKFJID_m5IPnUg14hdI-QQ0EoMj5Ady0u6mnnYG88HNFHSJe9Jb4Uik1JL7X8O4BuuJR71JkLvzUFlXxMnMkRcTJi1-XT5u76EHvhlnU0J22RgUiRvHubYZCK5RgNzv8v8S5jO5GfQ2W4J3yAgTnWbW9gsFzSv9Onm4bvV-pS8oJZ9KVM8ybvT1ZEqW0bToYhyJG9IhHEgiTZuODYioAA-ufSJ7B69PYUv4K4iy3tlg7GtYhh-Lm2jpb3ROAvN7RSkMlH4sMb-hk687M_XDXL1z1oByYeYwt2JqP1nzBUfCAa_R1D5GmPoticAGUFuwMSeNcslivGNhYHH-AH9DumDcY41t6Sp5JgeL6xl72EMM7-P4cPqBfrSCVlKSDU3LRCQPTvdgfKggYgoTN7KDb8MAofoKAHC91TxIteFL8sWNOgiTZgZsTQaN3yLEOSrrJYGpTLZUTrr_LDGcQPuNF4pqhWMjwkBpkeidFYqy42msWbM0mn7ijM0zX4e80-6vw1e7zxnXp7CXjZN3g_w8cu3ssaocSe4u8lK5-ndMQ3TQzRLwtZh5hmXJeAQ-pevDK4ttgIXCAsgupl8D_GaBFtbctJXcmO-unVJ0x6fCtA8d88-2Ph8SfdcFuJKRJGDCU62EYWej56970iH6Vj2EaRIFleMAVyL4aRhkzyYcQumUVO1FJq_Kqgb1C9k8stwGiy-HoPbRi2B6dBBl_WMoSmG7IT-OQo7TIrcNvKEq6S6QOmX1ggqqSab7jYMLDHOq17WispLMCAdx1_FuYKes-zn5wREV24aTUbozNroX6Hd_3vIdWNa4wmQMQsUtxey5npx6T-FFKGFRi6FXeRMAwqNw0lrxJ55GQJLcT1ndcUe0nvhkm8hc1HK_kDGgi7zlcVUNPOz53OoII6vRkkdpCtvj5nlc6aCwNCNI9TYF9FOni2zQW3ixeZdmM9dncK-kLdwkbXi58ZPhu3MUhawX88y94PPBuJwy2OuuI5o1pnuhE1DH1Thi3qxkzj6HxLxbNdFDMaFW__R_jlOVQDH_Ul0Toml-_HC0]--></g></svg>