<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="765px" preserveAspectRatio="none" style="width:1018px;height:765px;background:#FFFFFF;" version="1.1" viewBox="0 0 1018 765" width="1018px" zoomAndPan="magnify"><title>Illustration: Event triggered processing of 'state by reference'</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="443.9805" x="288.9338" y="28.5352">Illustration: Event triggered processing of 'state by reference'</text><g><title>..Smart Contract..</title><rect fill="#8080FF" height="96.6211" style="stroke:#181818;stroke-width:1;" width="10" x="223.7651" y="174.5977"/></g><g><title>..Smart Contract..</title><rect fill="#8080FF" height="66" style="stroke:#181818;stroke-width:1;" width="10" x="223.7651" y="609.7676"/></g><g><title>..State Renderer..</title><rect fill="#80FF80" height="212.6172" style="stroke:#181818;stroke-width:1;" width="10" x="503.9746" y="325.5293"/></g><g><title>..External Oracle..</title><rect fill="#FF8080" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="870.2026" y="271.2188"/></g><g><title>..External Oracle..</title><rect fill="#FF8080" height="71.6211" style="stroke:#181818;stroke-width:1;" width="10" x="870.2026" y="538.1465"/></g><rect fill="#F8F8F8" height="531.791" style="stroke:#000000;stroke-width:1.5;" width="1002.8481" x="10" y="135.9766"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="565.791" width="8" x="34.1826" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="118.9766" y2="684.7676"/></g><g><title>..Smart Contract..</title><rect fill="#000000" fill-opacity="0.00000" height="565.791" width="8" x="224.7651" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="228.6924" x2="228.6924" y1="118.9766" y2="684.7676"/></g><g><title>..State Renderer..</title><rect fill="#000000" fill-opacity="0.00000" height="565.791" width="8" x="504.9746" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="508.9736" x2="508.9736" y1="118.9766" y2="684.7676"/></g><g><title>..External Oracle..</title><rect fill="#000000" fill-opacity="0.00000" height="565.791" width="8" x="871.2026" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="874.4868" x2="874.4868" y1="118.9766" y2="684.7676"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="20" y="116.0234">User</text><ellipse cx="38.1826" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.1826,58.9883 L38.1826,85.9883 M25.1826,66.9883 L51.1826,66.9883 M38.1826,85.9883 L25.1826,100.9883 M38.1826,85.9883 L51.1826,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="20" y="697.3027">User</text><ellipse cx="38.1826" cy="708.7559" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.1826,716.7559 L38.1826,743.7559 M25.1826,724.7559 L51.1826,724.7559 M38.1826,743.7559 L25.1826,758.7559 M38.1826,743.7559 L51.1826,758.7559" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SmartContract"><rect fill="#E2E2F0" height="73.082" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.1455" x="141.6924" y="44.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107.96" x="174.7852" y="65.4297">Smart Contract</text><line style="stroke:#181818;stroke-width:1;" x1="141.6924" x2="315.8379" y1="73.3828" y2="73.3828"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="160.1455" x="148.6924" y="91.3779">IRepresentableState</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="224.5508" y="107.6748">&#160;</text></g><g class="participant participant-tail" data-participant="SmartContract"><rect fill="#E2E2F0" height="73.082" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.1455" x="141.6924" y="683.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107.96" x="174.7852" y="704.3027">Smart Contract</text><line style="stroke:#181818;stroke-width:1;" x1="141.6924" x2="315.8379" y1="712.2559" y2="712.2559"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="160.1455" x="148.6924" y="730.251">IRepresentableState</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="224.5508" y="746.5479">&#160;</text></g><g class="participant participant-head" data-participant="EvmXmlRenderer"><rect fill="#E2E2F0" height="73.082" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="442.9736" y="44.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105.8613" x="456.0439" y="65.4297">State Renderer</text><line style="stroke:#181818;stroke-width:1;" x1="442.9736" x2="574.9756" y1="73.3828" y2="73.3828"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="449.9736" y="91.3779">EvmXmlRenderer</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="504.7603" y="107.6748">&#160;</text></g><g class="participant participant-tail" data-participant="EvmXmlRenderer"><rect fill="#E2E2F0" height="73.082" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.002" x="442.9736" y="683.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105.8613" x="456.0439" y="704.3027">State Renderer</text><line style="stroke:#181818;stroke-width:1;" x1="442.9736" x2="574.9756" y1="712.2559" y2="712.2559"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="118.002" x="449.9736" y="730.251">EvmXmlRenderer</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="504.7603" y="746.5479">&#160;</text></g><g class="participant participant-head" data-participant="ExternalOracle"><rect fill="#E2E2F0" height="73.082" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199.4316" x="775.4868" y="44.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109.8398" x="820.2827" y="65.4297">External Oracle</text><line style="stroke:#181818;stroke-width:1;" x1="775.4868" x2="974.9185" y1="73.3828" y2="73.3828"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="185.4316" x="782.4868" y="91.3779">(Oracle&#160;for&#160;Something)</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="870.9883" y="107.6748">&#160;</text></g><g class="participant participant-tail" data-participant="ExternalOracle"><rect fill="#E2E2F0" height="73.082" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199.4316" x="775.4868" y="683.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109.8398" x="820.2827" y="704.3027">External Oracle</text><line style="stroke:#181818;stroke-width:1;" x1="775.4868" x2="974.9185" y1="712.2559" y2="712.2559"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="185.4316" x="782.4868" y="730.251">(Oracle&#160;for&#160;Something)</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="870.9883" y="746.5479">&#160;</text></g><g><title>..Smart Contract..</title><rect fill="#8080FF" height="96.6211" style="stroke:#181818;stroke-width:1;" width="10" x="223.7651" y="174.5977"/></g><g><title>..Smart Contract..</title><rect fill="#8080FF" height="66" style="stroke:#181818;stroke-width:1;" width="10" x="223.7651" y="609.7676"/></g><g><title>..State Renderer..</title><rect fill="#80FF80" height="212.6172" style="stroke:#181818;stroke-width:1;" width="10" x="503.9746" y="325.5293"/></g><g><title>..External Oracle..</title><rect fill="#FF8080" height="54.3105" style="stroke:#181818;stroke-width:1;" width="10" x="870.2026" y="271.2188"/></g><g><title>..External Oracle..</title><rect fill="#FF8080" height="71.6211" style="stroke:#181818;stroke-width:1;" width="10" x="870.2026" y="538.1465"/></g><path d="M10,135.9766 L285.1343,135.9766 L285.1343,143.2871 L275.1343,153.2871 L10,153.2871 L10,135.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="531.791" style="stroke:#000000;stroke-width:1.5;" width="1002.8481" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="230.1343" x="25" y="149.5449">state change in the smart contract</text><g class="message" data-participant-1="User" data-participant-2="SmartContract"><polygon fill="#181818" points="211.7651,170.5977,221.7651,174.5977,211.7651,178.5977,215.7651,174.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.1826" x2="217.7651" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="45.1826" y="169.8555">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.5107" x="80.2544" y="169.8555">initiateSomething(...)</text></g><g class="message" data-participant-1="SmartContract" data-participant-2="SmartContract"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="233.7651" x2="275.7651" y1="203.9082" y2="203.9082"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="275.7651" x2="275.7651" y1="203.9082" y2="216.9082"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="234.7651" x2="275.7651" y1="216.9082" y2="216.9082"/><polygon fill="#181818" points="244.7651,212.9082,234.7651,216.9082,244.7651,220.9082,240.7651,216.9082" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="240.7651" y="199.166">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.2627" x="275.8369" y="199.166">alter constact state</text></g><g class="message" data-participant-1="SmartContract" data-participant-2="ExternalOracle"><polygon fill="#181818" points="858.2026,267.2188,868.2026,271.2188,858.2026,275.2188,862.2026,271.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="228.7651" x2="864.2026" y1="271.2188" y2="271.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="235.7651" y="266.4766">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.0386" x="270.8369" y="266.4766">emit event SomethingRequested(reference)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.0962" x="571.1064" y="266.4766">(reference = "evmstate:://self/part/[partId]")</text></g><g class="message" data-participant-1="ExternalOracle" data-participant-2="EvmXmlRenderer"><polygon fill="#181818" points="524.9746,321.5293,514.9746,325.5293,524.9746,329.5293,520.9746,325.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="518.9746" x2="874.2026" y1="325.5293" y2="325.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="530.9746" y="320.7871">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.269" x="566.0464" y="320.7871">render(contractAddress, partId)</text></g><g class="message" data-participant-1="EvmXmlRenderer" data-participant-2="SmartContract"><polygon fill="#181818" points="239.7651,350.8398,229.7651,354.8398,239.7651,358.8398,235.7651,354.8398" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="491.9746,350.8398,501.9746,354.8398,491.9746,358.8398,495.9746,354.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="233.7651" x2="497.9746" y1="354.8398" y2="354.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="245.7651" y="350.0977">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.1377" x="280.8369" y="350.0977">read statePartXmlTemplate(partId)</text></g><g class="message" data-participant-1="EvmXmlRenderer" data-participant-2="SmartContract"><polygon fill="#181818" points="239.7651,380.1504,229.7651,384.1504,239.7651,388.1504,235.7651,384.1504" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="491.9746,380.1504,501.9746,384.1504,491.9746,388.1504,495.9746,384.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="233.7651" x2="497.9746" y1="384.1504" y2="384.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="245.7651" y="379.4082">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.9854" x="280.8369" y="379.4082">read state_1()</text></g><path d="M233,397.1504 L233,463.1504 L351,463.1504 L351,407.1504 L341,397.1504 L233,397.1504" fill="#F8F8F8" style="stroke:#FFFFFF;stroke-width:0.5;"/><path d="M341,397.1504 L341,407.1504 L351,407.1504 L341,397.1504" fill="#F8F8F8" style="stroke:#FFFFFF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="6.5703" x="325.0625" y="417.6191">&#8942;</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="6.5703" x="325.0625" y="436.4629">&#8942;</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="6.5703" x="325.0625" y="455.3066">&#8942;</text><path d="M518,397.1504 L518,482.1504 L846,482.1504 L846,407.1504 L836,397.1504 L518,397.1504" fill="#F8F8F8" style="stroke:#FFFFFF;stroke-width:0.5;"/><path d="M836,397.1504 L836,407.1504 L846,407.1504 L836,397.1504" fill="#F8F8F8" style="stroke:#FFFFFF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="307.3828" x="524" y="417.6191">Reading the state of the Smart Contract</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="165.4766" x="524" y="436.4629">does not require gas.</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="306.1328" x="524" y="455.3066">The xml template generically specifices</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="269.8359" x="524" y="474.1504">the bindings to the view functions.</text><g class="message" data-participant-1="EvmXmlRenderer" data-participant-2="SmartContract"><polygon fill="#181818" points="239.7651,504.8359,229.7651,508.8359,239.7651,512.8359,235.7651,508.8359" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="491.9746,504.8359,501.9746,508.8359,491.9746,512.8359,495.9746,508.8359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="233.7651" x2="497.9746" y1="508.8359" y2="508.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="245.7651" y="504.0938">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.833" x="280.8369" y="504.0938">read state_n()</text></g><g class="message" data-participant-1="EvmXmlRenderer" data-participant-2="ExternalOracle"><polygon fill="#181818" points="858.2026,534.1465,868.2026,538.1465,858.2026,542.1465,862.2026,538.1465" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="508.9746" x2="864.2026" y1="538.1465" y2="538.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="515.9746" y="533.4043">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.9175" x="551.0464" y="533.4043">xml:ContractStateRepresentation</text></g><g class="message" data-participant-1="ExternalOracle" data-participant-2="ExternalOracle"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="880.2026" x2="922.2026" y1="567.457" y2="567.457"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="922.2026" x2="922.2026" y1="567.457" y2="580.457"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="881.2026" x2="922.2026" y1="580.457" y2="580.457"/><polygon fill="#181818" points="891.2026,576.457,881.2026,580.457,891.2026,584.457,887.2026,580.457" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="887.2026" y="562.7148">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.5737" x="922.2744" y="562.7148">processing</text></g><g class="message" data-participant-1="ExternalOracle" data-participant-2="SmartContract"><polygon fill="#181818" points="244.7651,605.7676,234.7651,609.7676,244.7651,613.7676,240.7651,609.7676" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="238.7651" x2="874.2026" y1="609.7676" y2="609.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26.7871" x="250.7651" y="605.0254">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.0811" x="285.8369" y="605.0254">provideSomething()</text></g><!--SRC=[dLLTRjf047xtAKRc0O8Af5LLHLQAr4P1oaFR25AfKeYgnJkOLTQxpkwQ95LkqBlqK3r9PnSmiUDKJGqozlnyyytF3jsLSuLDHgD2CkNAN0vJdOyitfIeKXnmmJB3yYXomac4CobBwmnpGgi4JjUe73WZiWmDSYYCJj5QeJBGI-XQnnp2uXuCBabFSDqeijT25OmWuIDBhpEZIyLFjDG6RbV2OHHruHExHb3QeGN9J8R050ScSsqTBBJXQ2H5UOJqcMpRqHesmVbv_Mp5kBxrz9TCsgRsd77kTM_UDXGJhTnC_41u_IwAMEe8_Qj50yo6toWYKoTIKL21OPRJombv6BA4omZewlU357RYVZ-81tI5XpW-cs9Xq5AvsKBYp1SsZhSw-aPNzI2dw_nRBgUeA5qYKaK93Tc9dqQfk_qrm9r3evZyGdHfB7O1TcBOo9z6w6qTbbIZcSxHhQYY1yr8h7HQbVc2gCV7Y_7buU4L78yMuzXF1u5LuK4eUg2AqJXwHUGde83EvCX_O3E0wOef6YAXmAqGRAXqkgqqnGsj6emRZKd8NZX1_XNDtd0uF2077sxjWUiUdQF3eyF9X0pgya4BDfD4svCWXYG8FCdnuU7XgVkuMUm4C1SEC1o-YjtKdrZhaFUgqtO0SmVxLtWFCQxp42oX0szHBaU-gQDBVp_ZLx5FZsDxWXM_IjtWrPbCV0d8eg7mATG7Cg6Lu1zxkpvyu9p6sxw23PC6ZpfUZK8Tj-CxiA5GLnotTS4WuvlQdvE2p2ymfoteiBTdyJASxwzxtidlBg2jk79-3pR6P3kR2JM7slFxvo-OgvR7QDI0QQPQuKmflDzBORh3n9ErVwalbRdYcZOgWHBXcr8OX8pPuLnTaEbTBi5jiuSC5HgHCYdlmHQOYgMWjJvN7dCXb0zcmUaGOotm5fQb2aVG3bzUCTLhAVEWRUg9OxB329jilnDzyCR8r03_QshREEp_uTeTcecI_LhmHpladoVxkUMoEOER-xD7bTAE_W00]--></g></svg>