# LazAI Network Smart Contracts

## Get Started

### Build

```shell
forge build
```

### Test

```shell
forge test
```

### Format

```shell
forge fmt
```

### Gas Snapshots

```shell
forge snapshot
```

### Deploy

```shell
forge script script/Deploy.s.sol:Deploy --rpc-url <your_rpc_url> --private-key <your_private_key> --broadcast --slow
```

For example, we can deploy it on the LazAI testnet

```shell
forge script script/Deploy.s.sol:Deploy --rpc-url https://lazai-testnet.metisdevops.link --private-key $PRIVATE_KEY --broadcast --slow
```

Or the local devnet

```shell
forge script script/Deploy.s.sol:Deploy --rpc-url 127.0.0.1:8545 --private-key $PRIVATE_KEY --broadcast --slow
```

## Reference

### Errors

* `DataAnchoringToken.sol`

```shell
forge inspect src/dat/DataAnchoringToken.sol errors

╭-------------------------------------------------------------+----------╮
| Error                                                       | Selector |
+========================================================================+
| AccessControlBadConfirmation()                              | 6697b232 |
|-------------------------------------------------------------+----------|
| AccessControlUnauthorizedAccount(address,bytes32)           | e2517d3f |
|-------------------------------------------------------------+----------|
| ERC1155InsufficientBalance(address,uint256,uint256,uint256) | 03dee4c5 |
|-------------------------------------------------------------+----------|
| ERC1155InvalidApprover(address)                             | 3e31884e |
|-------------------------------------------------------------+----------|
| ERC1155InvalidArrayLength(uint256,uint256)                  | 5b059991 |
|-------------------------------------------------------------+----------|
| ERC1155InvalidOperator(address)                             | ced3e100 |
|-------------------------------------------------------------+----------|
| ERC1155InvalidReceiver(address)                             | 57f447ce |
|-------------------------------------------------------------+----------|
| ERC1155InvalidSender(address)                               | 01a83514 |
|-------------------------------------------------------------+----------|
| ERC1155MissingApprovalForAll(address,address)               | e237d922 |
╰-------------------------------------------------------------+----------╯
```

* `DataRegistry.sol`

```shell
forge inspect src/dataRegistry/DataRegistry.sol errors

╭---------------------------------------------------+----------╮
| Error                                             | Selector |
+==============================================================+
| AccessControlBadConfirmation()                    | 6697b232 |
|---------------------------------------------------+----------|
| AccessControlUnauthorizedAccount(address,bytes32) | e2517d3f |
|---------------------------------------------------+----------|
| AddressEmptyCode(address)                         | 9996b315 |
|---------------------------------------------------+----------|
| ECDSAInvalidSignature()                           | f645eedf |
|---------------------------------------------------+----------|
| ECDSAInvalidSignatureLength(uint256)              | fce698f7 |
|---------------------------------------------------+----------|
| ECDSAInvalidSignatureS(bytes32)                   | d78bce0c |
|---------------------------------------------------+----------|
| ERC1967InvalidImplementation(address)             | 4c9c8ce3 |
|---------------------------------------------------+----------|
| ERC1967NonPayable()                               | b398979f |
|---------------------------------------------------+----------|
| EnforcedPause()                                   | d93c0665 |
|---------------------------------------------------+----------|
| ExpectedPause()                                   | 8dfc202b |
|---------------------------------------------------+----------|
| FailedCall()                                      | d6bda275 |
|---------------------------------------------------+----------|
| FileAlreadyRewarded()                             | 273e363e |
|---------------------------------------------------+----------|
| FileNotFound()                                    | ed20d764 |
|---------------------------------------------------+----------|
| FileUrlAlreadyUsed()                              | 86114455 |
|---------------------------------------------------+----------|
| InvalidAttestator(bytes32,bytes,address)          | 4d178544 |
|---------------------------------------------------+----------|
| InvalidInitialization()                           | f92ee8a9 |
|---------------------------------------------------+----------|
| InvalidUrl()                                      | e7bc872f |
|---------------------------------------------------+----------|
| NoPermission()                                    | 9d7b369d |
|---------------------------------------------------+----------|
| NotFileOwner()                                    | abea3229 |
|---------------------------------------------------+----------|
| NotInitializing()                                 | d7e6bcf8 |
|---------------------------------------------------+----------|
| ReentrancyGuardReentrantCall()                    | 3ee5aeb5 |
|---------------------------------------------------+----------|
| UUPSUnauthorizedCallContext()                     | e07c8dba |
|---------------------------------------------------+----------|
| UUPSUnsupportedProxiableUUID(bytes32)             | aa1d49a4 |
╰---------------------------------------------------+----------╯
```

* `IDAO.sol`

```shell
forge inspect src/idao/IDAO.sol errors

╭---------------------------------------------------+----------╮
| Error                                             | Selector |
+==============================================================+
| AccessControlBadConfirmation()                    | 6697b232 |
|---------------------------------------------------+----------|
| AccessControlUnauthorizedAccount(address,bytes32) | e2517d3f |
|---------------------------------------------------+----------|
| AddressEmptyCode(address)                         | 9996b315 |
|---------------------------------------------------+----------|
| ERC1967InvalidImplementation(address)             | 4c9c8ce3 |
|---------------------------------------------------+----------|
| ERC1967NonPayable()                               | b398979f |
|---------------------------------------------------+----------|
| EnforcedPause()                                   | d93c0665 |
|---------------------------------------------------+----------|
| ExpectedPause()                                   | 8dfc202b |
|---------------------------------------------------+----------|
| FailedCall()                                      | d6bda275 |
|---------------------------------------------------+----------|
| InvalidInitialization()                           | f92ee8a9 |
|---------------------------------------------------+----------|
| NotInitializing()                                 | d7e6bcf8 |
|---------------------------------------------------+----------|
| ReentrancyGuardReentrantCall()                    | 3ee5aeb5 |
|---------------------------------------------------+----------|
| UUPSUnauthorizedCallContext()                     | e07c8dba |
|---------------------------------------------------+----------|
| UUPSUnsupportedProxiableUUID(bytes32)             | aa1d49a4 |
╰---------------------------------------------------+----------╯
```

* `AIProcess.sol`

```shell
forge inspect src/process/AIProcess.sol errors

╭-------------------------------------------------------+----------╮
| Error                                                 | Selector |
+==================================================================+
| AccessControlBadConfirmation()                        | 6697b232 |
|-------------------------------------------------------+----------|
| AccessControlUnauthorizedAccount(address,bytes32)     | e2517d3f |
|-------------------------------------------------------+----------|
| AccountAlreadyExists(address,address)                 | 10476f40 |
|-------------------------------------------------------+----------|
| AccountNotExists(address,address)                     | 08ca03ac |
|-------------------------------------------------------+----------|
| AddressEmptyCode(address)                             | 9996b315 |
|-------------------------------------------------------+----------|
| ECDSAInvalidSignature()                               | f645eedf |
|-------------------------------------------------------+----------|
| ECDSAInvalidSignatureLength(uint256)                  | fce698f7 |
|-------------------------------------------------------+----------|
| ECDSAInvalidSignatureS(bytes32)                       | d78bce0c |
|-------------------------------------------------------+----------|
| ERC1967InvalidImplementation(address)                 | 4c9c8ce3 |
|-------------------------------------------------------+----------|
| ERC1967NonPayable()                                   | b398979f |
|-------------------------------------------------------+----------|
| EnforcedPause()                                       | d93c0665 |
|-------------------------------------------------------+----------|
| ExpectedPause()                                       | 8dfc202b |
|-------------------------------------------------------+----------|
| FailedCall()                                          | d6bda275 |
|-------------------------------------------------------+----------|
| InsufficientBalance(address,address)                  | 52a16ee8 |
|-------------------------------------------------------+----------|
| InvalidAttestator(bytes32,bytes,address)              | 4d178544 |
|-------------------------------------------------------+----------|
| InvalidInitialization()                               | f92ee8a9 |
|-------------------------------------------------------+----------|
| InvalidUserSignature(bytes32,uint256,address,address) | 7d94de71 |
|-------------------------------------------------------+----------|
| NoActiveNode()                                        | bf7d5e44 |
|-------------------------------------------------------+----------|
| NodeAlreadyAdded()                                    | d5566c96 |
|-------------------------------------------------------+----------|
| NodeNotActive()                                       | 8741cbb8 |
|-------------------------------------------------------+----------|
| NonceTooLow()                                         | d24d82a4 |
|-------------------------------------------------------+----------|
| NotInitializing()                                     | d7e6bcf8 |
|-------------------------------------------------------+----------|
| ReentrancyGuardReentrantCall()                        | 3ee5aeb5 |
|-------------------------------------------------------+----------|
| UUPSUnauthorizedCallContext()                         | e07c8dba |
|-------------------------------------------------------+----------|
| UUPSUnsupportedProxiableUUID(bytes32)                 | aa1d49a4 |
╰-------------------------------------------------------+----------╯
```

* `Settlement.sol`

```shell
forge inspect src/settlement/Settlement.sol errors

╭---------------------------------------------------+----------╮
| Error                                             | Selector |
+==============================================================+
| AccessControlBadConfirmation()                    | 6697b232 |
|---------------------------------------------------+----------|
| AccessControlUnauthorizedAccount(address,bytes32) | e2517d3f |
|---------------------------------------------------+----------|
| AddressEmptyCode(address)                         | 9996b315 |
|---------------------------------------------------+----------|
| ERC1967InvalidImplementation(address)             | 4c9c8ce3 |
|---------------------------------------------------+----------|
| ERC1967NonPayable()                               | b398979f |
|---------------------------------------------------+----------|
| EnforcedPause()                                   | d93c0665 |
|---------------------------------------------------+----------|
| ExpectedPause()                                   | 8dfc202b |
|---------------------------------------------------+----------|
| FailedCall()                                      | d6bda275 |
|---------------------------------------------------+----------|
| InsufficientBalance(address)                      | 897f6c58 |
|---------------------------------------------------+----------|
| InvalidInitialization()                           | f92ee8a9 |
|---------------------------------------------------+----------|
| NotInitializing()                                 | d7e6bcf8 |
|---------------------------------------------------+----------|
| ReentrancyGuardReentrantCall()                    | 3ee5aeb5 |
|---------------------------------------------------+----------|
| UUPSUnauthorizedCallContext()                     | e07c8dba |
|---------------------------------------------------+----------|
| UUPSUnsupportedProxiableUUID(bytes32)             | aa1d49a4 |
|---------------------------------------------------+----------|
| UserAlreadyExists(address)                        | 23ee4bac |
|---------------------------------------------------+----------|
| UserNotExists(address)                            | 0617de70 |
╰---------------------------------------------------+----------╯
```

* `VerifiedComputing.sol`

```shell
forge inspect src/verifiedComputing/VerifiedComputing.sol errors

╭---------------------------------------------------+----------╮
| Error                                             | Selector |
+==============================================================+
| AccessControlBadConfirmation()                    | 6697b232 |
|---------------------------------------------------+----------|
| AccessControlUnauthorizedAccount(address,bytes32) | e2517d3f |
|---------------------------------------------------+----------|
| AddressEmptyCode(address)                         | 9996b315 |
|---------------------------------------------------+----------|
| ERC1967InvalidImplementation(address)             | 4c9c8ce3 |
|---------------------------------------------------+----------|
| ERC1967NonPayable()                               | b398979f |
|---------------------------------------------------+----------|
| EnforcedPause()                                   | d93c0665 |
|---------------------------------------------------+----------|
| ExpectedPause()                                   | 8dfc202b |
|---------------------------------------------------+----------|
| FailedCall()                                      | d6bda275 |
|---------------------------------------------------+----------|
| InsufficientFee()                                 | 025dbdd4 |
|---------------------------------------------------+----------|
| InvalidInitialization()                           | f92ee8a9 |
|---------------------------------------------------+----------|
| InvalidJobNode()                                  | 5537c0c0 |
|---------------------------------------------------+----------|
| InvalidJobStatus()                                | b969563b |
|---------------------------------------------------+----------|
| NoActiveNode()                                    | bf7d5e44 |
|---------------------------------------------------+----------|
| NodeAlreadyAdded()                                | d5566c96 |
|---------------------------------------------------+----------|
| NodeNotActive()                                   | 8741cbb8 |
|---------------------------------------------------+----------|
| NotInitializing()                                 | d7e6bcf8 |
|---------------------------------------------------+----------|
| NotJobOwner()                                     | 9015f923 |
|---------------------------------------------------+----------|
| NothingToClaim()                                  | 969bf728 |
|---------------------------------------------------+----------|
| ReentrancyGuardReentrantCall()                    | 3ee5aeb5 |
|---------------------------------------------------+----------|
| TransferFailed()                                  | 90b8ec18 |
|---------------------------------------------------+----------|
| UUPSUnauthorizedCallContext()                     | e07c8dba |
|---------------------------------------------------+----------|
| UUPSUnsupportedProxiableUUID(bytes32)             | aa1d49a4 |
╰---------------------------------------------------+----------╯
```
