---
eip: 8001
title: Modular Intent Framework
description: Minimal framework for cryptographic intents enabling MEV protection and cross-chain coordination
author: Kwame Bryan (@kbryan)
discussions-to: https://ethereum-magicians.org/t/erc-8001-modular-intent-framework/24989
status: Draft
type: Standards Track
category: ERC
created: 2025-08-02
requires: 712
---

## Abstract

[ERC-8001](./erc-8001.md) defines a minimal, modular framework for coordinating autonomous agents through cryptographically signed intents. The core specification consumes only ~5,000 gas, with optional modules for privacy (~20,000 gas), cross-chain coordination (~50,000 gas), and batch execution. This flexible design allows developers to adopt only the necessary components, enabling immediate deployment for use cases like MEV protection and conditional automation while supporting advanced agent workflows.

## Motivation

Ethereum users lose over $1B annually to MEV attacks. Most must choose between:

1. Public mempool exposure (risking sandwich attacks)
2. Centralised private RPC providers (trust assumption)
3. Complex commit-reveal or zero-knowledge approaches (expensive, ~100k gas)

Users need a way to sign intents with execution conditions and defer actual execution to decentralised solvers. This must be gas-efficient, secure, and compatible with existing infrastructure.

Cross-chain coordination is another growing need. For instance, a user may wish to migrate to the chain with the best yield over 10% (e.g. via a cross-chain coordination intent). Today, this requires either centralised tooling or bridging with fragile heuristics.

ERC-8001 proposes a modular framework:
- **Core** (~5k gas): Replay-protected intent signature with expiry and chain ID
- **Privacy** (~20k gas): Optional encrypted payloads
- **Cross-Chain** (~50k gas): Intent forwarding with proof-based validation
- **Batching**: Amortised costs
- **Incentives**: Staking and solver rewards

## Specification

### Core Intent Structure

```solidity
struct CoreIntent {
    bytes32 payloadHash;
    uint64 expiry;
    uint64 nonce;
    uint32 chainId;
    address executor;
}

bytes32 intentHash = keccak256(abi.encode(
    payloadHash,
    expiry,
    nonce,
    chainId,
    executor
));

// Standard signature validation
address signer = ecrecover(
keccak256(abi.encodePacked("\x19Ethereum Signed Message:\n32", intentHash)),
v, r, s
);
```

### [EIP-712](./eip-712.md) Integration (Optional)

To support wallets and contracts that expect structured EIP-712 signatures, the following integration MAY be used as an alternative to `eth_sign`:

```solidity
bytes32 DOMAIN_SEPARATOR = keccak256(abi.encode(
    keccak256("EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)"),
    keccak256(bytes("IntentProtocol")),
    keccak256(bytes("1")),
    block.chainid,
    address(this)
));

bytes32 TYPEHASH = keccak256("CoreIntent(bytes32 payloadHash,uint64 expiry,uint64 nonce,uint32 chainId,address executor)");

bytes32 structHash = keccak256(abi.encode(
TYPEHASH,
intent.payloadHash,
intent.expiry,
intent.nonce,
intent.chainId,
intent.executor
));

bytes32 digest = keccak256(abi.encodePacked("\x19\x01", DOMAIN_SEPARATOR, structHash));
address signer = ecrecover(digest, v, r, s);
```

## Rationale

- **Modularity**: Users can adopt core + extensions selectively
- **Binary Encoding**: Avoids JSON, reduces calldata cost
- **Hash Storage**: Payloads are off-chain or encrypted
- **Privacy**: Supports MEV-sensitive flows with ECIES
- **Interoperability**: Cross-chain intents make it mesh-ready
- **Gas Efficiency**: Base cost under 5k for verification

## Backwards Compatibility

Fully opt-in. Does not affect existing Ethereum transactions or mempools.

## Test Cases

(Tests will be updated in the final draft. See `examples/` directory in reference implementation.)

## Security Considerations

- **Nonce Replay Protection**
- **Signature Verification**
- **Encrypted Payloads (ECIES secp256k1)**
- **Staking to Deter Spam**
- **Slashing Failed Executors**

## Copyright

CC0 License