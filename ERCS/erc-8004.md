---
eip: 8004
title: Delayed Metadata Update Extension
description: Optional extension for ERC-8004 to prevent post-verification mutation attacks
author: Cyberpaisa (@Cyberpaisa)
discussions-to: https://ethereum-magicians.org/t/erc-8004-trustless-agents/25098
status: Draft
type: Standards Track
category: ERC
created: 2026-02-22
requires: 721, 8004
---

## Abstract

This proposal defines an optional extension to [ERC-8004](./erc-8004.md) that introduces a delayed metadata update mechanism for agent identity records. The extension prevents immediate mutation of agent metadata after verification by introducing a pending state and activation delay.

The mechanism is backward-compatible and intended to improve the reliability of verification signals and off-chain monitoring systems.

## Motivation

[ERC-8004](./erc-8004.md) allows agents to update metadata instantly via URI changes. While this provides flexibility, it also creates a risk where an agent can pass verification and then immediately swap its endpoint or configuration.

This creates an attack vector where verification signals remain visible while the underlying behavior changes.

Introducing a delay period allows monitoring systems, validators, and users to react before the change becomes active.

## Specification

Implementations MAY support a delayed metadata update flow.

### Storage

```solidity
struct PendingChange {
    string newURI;
    uint256 activationBlock;
    bool cancelled;
}

mapping(uint256 => PendingChange) public pendingChanges;
uint256 public uriCooldownBlocks;
